{"version":3,"sources":["./src/app/pages/richiedi-servizi/richiedi-servizi.page.ts","./src/app/pages/richiedi-servizi/richiedi-servizi-routing.module.ts","./src/app/pages/richiedi-servizi/richiedi-servizi.page.html","./src/app/pages/richiedi-servizi/richiedi-servizi.page.scss","./src/app/pages/richiedi-servizi/richiedi-servizi.module.ts"],"names":[],"mappings":"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","file":"pages-richiedi-servizi-richiedi-servizi-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-richiedi-servizi',\n  templateUrl: './richiedi-servizi.page.html',\n  styleUrls: ['./richiedi-servizi.page.scss'],\n})\nexport class RichiediServiziPage implements OnInit {\n  \n  servizi: any;\n  psize: number;\n  page: number;\n  filtro: boolean;\n  termine: string;\n\n  constructor(private apiService: ApiService, private router: Router) {}\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.filtro=false;\n    this.termine=\"None\";\n    this.page = 0\n    this.psize = 5\n    this.getServizi()  \n  }\n\n  feedback(id:string,tipo:string,nome:string){\n    this.router.navigate([\"/infofeedback\", { \"id\": id, \"tipo\": tipo, \"nome\" : nome }]);\n  }\n\n  getServizi() {\n    this.apiService.getServizi(this.psize, this.page,this.filtro,this.termine).then(retApiService => {\n      retApiService.subscribe({\n        next:(results)=>{\n          this.servizi = results[\"_msg\"]\n          console.log(this.servizi)\n        },\n        error:()=>{\n          this.apiService.simplyAlert()\n        }\n      })\n    })\n  }\n\n  loadmore(event){\n    this.page++\n    this.apiService.getServizi(this.psize, this.page,this.filtro,this.termine).then(retApiService => {\n      retApiService.subscribe({\n        next:(results)=>{\n          for (const t of results[\"_msg\"]) {\n            this.servizi.push(t);\n          };\n          event.target.complete();\n        },\n        error:()=>{\n          this.apiService.simplyAlert()\n        }\n      })\n    })\n  }\n\n  rimuoviFiltri(){\n    this.page=0\n    this.filtro=false;\n    this.termine='';\n    this.getServizi()\n  }\n\n  filter(event){\n    let val=event.target.value;\n    if (val.trim() != '') {\n      this.page=0\n      this.filtro=true;\n      this.termine=val;\n      \n    }\n    else{\n      this.termine=''\n    }\n    this.getServizi()\n  }\n\n  clickItem(id:number){\n      this.router.navigate([\"/richiesta\", { \"id\": id }])\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RichiediServiziPage } from './richiedi-servizi.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RichiediServiziPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RichiediServiziPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text>Richiedi servizi</ion-text>\\n    </ion-title>\\n  </ion-toolbar>\\n  <ion-toolbar>\\n    <ion-searchbar (keyup.enter)=\\\"filter($event)\\\" placeholder=\\\"Cerca\\\"></ion-searchbar>\\n  </ion-toolbar>\\n  <ion-toolbar *ngIf=\\\"filtro==true\\\">\\n    <ion-button  size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"rimuoviFiltri()\\\">Rimuovi filtro</ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list>\\n    <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\" *ngIf=\\\"servizi?.length==0\\\">\\n      <ion-card-header>\\n        <ion-card-subtitle>\\n          <div class=\\\"ion-text-center\\\">\\n            Attenzione!\\n          </div>\\n        </ion-card-subtitle>\\n        <ion-card-content>\\n          Attualmente non sono presenti servizi da poter richiedere.<br>Controlla nei prossimi giorni! \\n        </ion-card-content>\\n      </ion-card-header>\\n    </ion-card>\\n\\n\\n    <ion-card *ngFor=\\\"let s of this.servizi\\\">\\n      <ion-card-content>\\n        <ion-card-subtitle>\\n            <ion-row>\\n              <ion-col>\\n                <div class=\\\"ion-text-center\\\">\\n                  Fornito da:\\n                </div>\\n              </ion-col>\\n              <ion-col class=\\\"ion-text-center\\\">\\n                <div (click)=\\\"feedback(s.utente,'utente',s.nomeUtente + ' ' + s.cognomeUtente)\\\">\\n                  {{s.nomeUtente}} {{s.cognomeUtente}}\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n        </ion-card-subtitle>\\n        <ion-card-title  class=\\\"ion-text-center\\\"(click)=\\\"clickItem(s.id)\\\">{{ s.nome }}</ion-card-title>\\n     \\n          <ion-row>\\n            <ion-col>\\n                {{s.descrizione}}\\n            </ion-col>\\n          </ion-row>\\n              \\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              Prezzo:\\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.andron}}\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              Tempo massimo dedicabile (h): \\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.ore}}\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n                Giorni minimi di preavviso:\\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.preavviso}}\\n            </ion-col>\\n          </ion-row>\\n          \\n          <ion-row>\\n            <ion-col>\\n              <ion-button id=\\\"myButtonYellow\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"clickItem(s.id)\\\">Richiedi</ion-button>\\n            </ion-col>\\n          </ion-row>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadmore($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Caricamento...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n\\n  </ion-list>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyaWNoaWVkaS1zZXJ2aXppLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RichiediServiziPageRoutingModule } from './richiedi-servizi-routing.module';\n\nimport { RichiediServiziPage } from './richiedi-servizi.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RichiediServiziPageRoutingModule\n  ],\n  declarations: [RichiediServiziPage]\n})\nexport class RichiediServiziPageModule {}\n"],"sourceRoot":"webpack:///"}