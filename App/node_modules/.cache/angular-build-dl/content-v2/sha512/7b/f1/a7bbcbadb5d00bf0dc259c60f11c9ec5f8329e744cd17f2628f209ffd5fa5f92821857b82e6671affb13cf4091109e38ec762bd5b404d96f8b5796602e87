{"version":3,"sources":["webpack:///src/app/pages/edit-profile/edit-profile-routing.module.ts","webpack:///src/app/pages/edit-profile/edit-profile.page.html","webpack:///src/app/pages/edit-profile/edit-profile.module.ts","webpack:///src/app/pages/edit-profile/edit-profile.page.ts","webpack:///src/app/pages/edit-profile/edit-profile.page.scss"],"names":["routes","path","component","EditProfilePageRoutingModule","imports","forChild","exports","EditProfilePageModule","declarations","EditProfilePage","apiService","navCtrl","storage","alertController","authenticationService","get","then","val","telefono","mail","stato","regione","citta","via","cap","errore","errorep","trim","checkInput","updateUtente","retApiService","subscribe","response","create","header","message","buttons","text","handler","data","getAnagrafica","setAnagrafica","alert","present","inputs","name","type","placeholder","role","password","check","updatePassword","vecchiapassword","console","info","selector","template"],"mappings":"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","file":"pages-edit-profile-edit-profile-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditProfilePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Modifica Profilo</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content id=\\\"myContent\\\">\\n  <ion-list>\\n    <ion-title class=\\\"ion-text-center\\\">Dati</ion-title>\\n      <ion-item>\\n        <ion-input placeholder=\\\"Telefono\\\" type=\\\"telefono\\\"  maxlength=\\\"20\\\"[(ngModel)]=\\\"telefono\\\"></ion-input>\\n        </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"Mail\\\" type=\\\"mail\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"mail\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n          <ion-input placeholder=\\\"Stato\\\" type=\\\"stato\\\"  maxlength=\\\"20\\\"[(ngModel)]=\\\"stato\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n            <ion-input placeholder=\\\"Regione\\\" type=\\\"regione\\\"  maxlength=\\\"20\\\"[(ngModel)]=\\\"regione\\\"></ion-input>\\n          </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"CittÃ \\\" type=\\\"citta\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"citta\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"Via\\\" type=\\\"via\\\"  maxlength=\\\"30\\\" [(ngModel)]=\\\"via\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"Cap\\\" type=\\\"cap\\\"  maxlength=\\\"10\\\" [(ngModel)]=\\\"cap\\\"></ion-input>\\n      </ion-item>\\n  </ion-list>\\n  <p>{{ this.errore }}</p>\\n  <ion-button id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click) = \\\"editProfile()\\\">Modifica</ion-button>\\n    <p>{{this.errorep}}</p>\\n    <ion-button id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"cambiaPass()\\\">Cambia Password</ion-button>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditProfilePageRoutingModule } from './edit-profile-routing.module';\n\nimport { EditProfilePage } from './edit-profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditProfilePageRoutingModule\n  ],\n  declarations: [EditProfilePage]\n})\nexport class EditProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n  telefono: string;\n  mail: string;\n  stato: string;\n  regione: string;\n  citta: string;\n  via: string;\n  cap: string;\n  errore: string;\n  errorep: string;\n  \n\n  constructor(\n    private apiService: ApiService,\n    private navCtrl: NavController,\n    private storage: Storage,\n    private alertController: AlertController,\n    private authenticationService:AuthenticationService\n  ) \n  { \n    storage.get('anagraficaJson').then((val) => {\n      this.telefono = val[\"telefono\"];\n      this.mail = val[\"mail\"];\n      this.stato = val[\"stato\"];\n      this.regione = val[\"regione\"];\n      this.citta = val[\"citta\"];\n      this.via = val[\"via\"];\n      this.cap = val[\"cap\"];\n    });\n    this.errore='';\n    this.errorep='';\n  }\n\n  ngOnInit() {\n  }\n  checkInput(){\n    if(!(this.telefono && this.mail && this.stato && this.regione && this.citta && this.via && this.cap))\n    {\n      return false \n    }\n    if (this.telefono.trim() == '' || this.mail.trim() == '' || this.stato.trim() == '' || this.regione.trim() == '' || this.citta.trim() == '' || this.via.trim() == '' || this.cap.trim() == '' ){\n      return false\n    }\n    return true;\n  }\n\n  editProfile(){\n    if(this.checkInput()){\n    this.apiService.updateUtente(this.telefono, this.mail, this.stato, this.regione, this.citta, this.cap, this.via).then(retApiService => {\n      retApiService.subscribe(async response => {\n        const alert = await this.alertController.create({\n          header: \"Attenzione\",\n          message: response[\"_msg\"],\n          buttons: [\n            {\n              text: 'Ok',\n              handler: data => {\n                this.apiService.getAnagrafica().then(retApiService => {\n                  retApiService.subscribe(response => {\n                    this.authenticationService.setAnagrafica(response[\"_dati\"]);\n                    this.storage.get('anagraficaJson').then((val) => {\n                      this.telefono = val[\"telefono\"];\n                      this.mail = val[\"mail\"];\n                      this.stato = val[\"stato\"];\n                      this.regione = val[\"regione\"];\n                      this.citta = val[\"citta\"];\n                      this.via = val[\"via\"];\n                      this.cap = val[\"cap\"];\n                    });\n\n                  });\n                });\n                }\n              }\n            ]\n        });\n        await alert.present();\n      })\n    });\n    }\n    else{\n      this.errore=\"Compila adeguatamente i campi\"\n    }\n  }\n  \n  async cambiaPass(){\n    const alert = await this.alertController.create({\n      header: \"Attenzione\",\n      message: \"Inserire nuova password e la conferma della password(min 8 caratteri e almeno 1 Maiuscola)\",\n      inputs: [\n        {\n          name: 'vecchiapassword',\n          type: 'password',\n          placeholder: 'Vecchia password'\n        },\n        {\n          name: 'password',\n          type: 'password',\n          placeholder: 'Nuova password'\n        },\n        {\n          name: 'check',\n          type: 'password',\n          placeholder: 'Conferma password'\n        }],\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            if (!(data.password && data.check)){\n              this.errorep=\"Compila tutti i campi\"\n              return\n            }\n            if(data.password.trim()=='' || data.check.trim()==''){\n              this.errorep=\"Password non valida\"\n              return\n            }\n\n            if(data.password!=data.check){\n              this.errorep=\"Le password non coincidono\"\n              return \n            }\n\n            this.apiService.updatePassword(data.vecchiapassword,data.password,data.check).then(retApiService => {\n              retApiService.subscribe(async response => {\n                const alert = await this.alertController.create({\n                  header: \"Attenzione\",\n                  message: response[\"_msg\"],\n                  buttons: [\n                    {\n                      text: 'Ok',\n                      role: 'cancel'\n                    }\n                  ]\n                });\n                await alert.present();\n              },\n                async errore => {\n                  console.info(errore[\"error\"][\"_msg\"]);\n                  const alert = await this.alertController.create({\n                    header: \"Attenzione\",\n                    message: errore[\"error\"][\"_msg\"],\n                    buttons: [\n                      {\n                        text: 'Ok',\n                        role: 'cancel'\n                      }\n                    ]\n                  });\n                  await alert.present();\n                }\n              );\n            })\n\n            \n          }\n        }]\n    });\n    await alert.present();\n\n  }\n}\n\n","export default \"p {\\n  color: red;\\n  text-align: center;\\n}\\n\\nion-item {\\n  color: #457c8d;\\n  --highlight-color-invalid: red;\\n  --highlight-color-valid: yellow;\\n}\\n\\nion-item:hover {\\n  background-color: #404f79;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VkaXQtcHJvZmlsZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFDQTtFQUNJLGNBQUE7RUFFQSw4QkFBQTtFQUNBLCtCQUFBO0FBQ0o7O0FBRUE7RUFDSSx5QkFBQTtBQUNKIiwiZmlsZSI6ImVkaXQtcHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcbiAgICBjb2xvcjogcmVkO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmlvbi1pdGVtIHtcbiAgICBjb2xvcjogIzQ1N2M4ZDs7XG4vLyAgICAtLWJvcmRlci1jb2xvcjogd2hpdGU7IC8vIGRlZmF1bHQgdW5kZXJsaW5lIGNvbG9yXG4gICAgLS1oaWdobGlnaHQtY29sb3ItaW52YWxpZDogcmVkOyAvLyBpbnZhbGlkIHVuZGVybGluZSBjb2xvclxuICAgIC0taGlnaGxpZ2h0LWNvbG9yLXZhbGlkOiB5ZWxsb3c7IC8vIHZhbGlkIHVuZGVybGluZSBjb2xvclxufVxuXG5pb24taXRlbTpob3ZlcntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA0Zjc5O1xufSJdfQ== */\";"]}