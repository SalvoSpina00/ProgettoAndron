{"version":3,"sources":["./src/app/pages/prodotti/prodotti.module.ts","./src/app/pages/prodotti/prodotti.page.html","./src/app/pages/prodotti/prodotti.page.ts","./src/app/pages/prodotti/prodotti-routing.module.ts","./src/app/pages/prodotti/prodotti.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AAEA;AAEyB;AAEvB;IAWlC,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;ACnB/B;AAAe,0WAA2S,2JAA2J,UAAU,kcAAkc,iBAAiB,+JAA+J,kIAAkI,UAAU,gJAAgJ,2JAA2J,YAAY,uJAAuJ,8WAA8W,gHAAgH,ueAAue,qcAAqc,E;;;;;;;;;;;;;;;;;;;;;;;;ACAngG;AAEmF;AAC5F;AACyB;AAGlE;;;;;IAKI;IAOS,YAAY,SAAZ,YAAY;IAMvB,YACS,OAAsB,EACtB,QAAwB,EACxB,WAA8B,EAC9B,SAA0B,EAC1B,SAA0B,EAC1B,SAA0B,EACzB,MAAc,EACd,UAAsB,EACtB,eAAgC;QARjC,YAAO,GAAP,OAAO,CAAe;QACtB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAY;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAEtC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACxB,CAAC;IAED,QAAQ;IACR,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAGK,QAAQ,CAAC,EAAS;;YACtB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,UAAU;gBAClB,OAAO,EAAC,qCAAqC;gBAC7C,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,UAAU;wBAChB,IAAI,EAAE,QAAQ;wBACd,WAAW,EAAE,UAAU;qBACxB;iBAAC;gBACJ,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,SAAS;wBACf,IAAI,EAAE,QAAQ;qBACf;oBACD;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,IAAI,CAAC,EAAE;4BACd,IAAI,CAAC,QAAQ,GAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;4BACrC,IAAG,IAAI,CAAC,QAAQ,GAAC,CAAC,EAAC;gCAAC,IAAI,CAAC,QAAQ,GAAC,CAAC;6BAAC;4BACpC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gCAC3D,GAAG,CAAC,SAAS,CAAC,CAAM,GAAG,EAAC,EAAE,CAAC;oCACzB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wCAC9C,MAAM,EAAE,sBAAsB;wCAC9B,OAAO,EAAE;4CACP;gDACE,IAAI,EAAE,IAAI;gDACV,IAAI,EAAE,QAAQ;gDACd,OAAO,EAAE,GAAG,EAAE;oDACZ,IAAI,CAAC,eAAe,EAAE,CAAC;gDACzB,CAAC;6CACF;yCAAC;qCACL,CAAC,CAAC;oCACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;gCACxB,CAAC,EAAC;4BACJ,CAAC,CAAC;wBACJ,CAAC;qBACF;iBAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAGD,eAAe;QACb,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;YAC/C,aAAa,CAAC,SAAS,CAAE,QAAQ,CAAC,EAAE;gBAClC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACjC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9B,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,MAAa;QAClB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC/C,MAAM,CAAC,SAAS,CAAC,CAAM,GAAG,EAAC,EAAE;gBAC3B,GAAG,GAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAChB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,MAAM,KAAK,GAAE,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oBAC7C,MAAM,EAAE,kCAAkC;oBAC1C,OAAO,EAAE;wBACT,EAAC,IAAI,EAAE,IAAI;4BACX,IAAI,EAAE,QAAQ;4BACZ,OAAO,EAAE,GAAG,EAAE;gCACb,IAAI,CAAC,eAAe,EAAE,CAAC;4BACxB,CAAC;yBACF;qBAAC;iBACH,CAAC,CAAC;gBACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC,EAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAEK,WAAW,CAAC,MAAa;;YAC7B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC1B,MAAM,EAAE,YAAY;gBACpB,OAAO,EAAE,yCAAyC;gBAClD,OAAO,EAAE;oBACP,EAAC,IAAI,EAAE,IAAI,GAAE;oBACb;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAC,GAAG,EAAE;4BACX,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;wBACtB,CAAC;qBACF;iBACJ;aACA,CAAC,CAAC,IAAI,CAAC,KAAK,GAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACnC,CAAC;KAAA;IAED,cAAc;QACZ,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IAED,aAAa;IAEb,SAAS;QACP,2GAA2G;IAC7G,CAAC;CAOF;;YAtJQ,4DAAa;YAAE,6DAAc;YAAE,gEAAiB;YAAE,8DAAe;YAAE,8DAAe;YAAE,8DAAe;YACnG,sDAAM;YACN,+EAAU;YAFwC,8DAAe;;AAiB7D,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,gFAAmC;;KAEpC,CAAC;mFAQkB,4DAAa;QACZ,6DAAc;QACX,gEAAiB;QACnB,8DAAe;QACf,8DAAe;QACf,8DAAe;QACjB,sDAAM;QACF,+EAAU;QACL,8DAAe;GAf/B,YAAY,CAqIxB;AArIwB;;;;;;;;;;;;;;;;;;;;ACnBgB;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;AChBtC;AAAe,6GAA8C,uHAAuH,E","file":"pages-prodotti-prodotti-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdottiPageRoutingModule } from './prodotti-routing.module';\n\nimport { ProdottiPage } from './prodotti.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdottiPageRoutingModule\n  ],\n  declarations: [ProdottiPage]\n})\nexport class ProdottiPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>prodotti</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list>\\n      <ion-card style=\\\"background-color: black;\\\" *ngFor=\\\"let p of products\\\">\\n        <ion-card-content>\\n          <ion-card-title>\\n              <div class=\\\"ion-text-center\\\">\\n                {{ p.nome }}\\n              </div>\\n            </ion-card-title>\\n\\n            <ion-row>\\n              <ion-col size=\\\"4\\\">\\n                <div>\\n                  <ion-avatar slot=\\\"start\\\">\\n                    <img src=\\\"assets/img/andrea.jpg\\\">\\n                  </ion-avatar>\\n                </div>\\n              </ion-col>\\n            \\n              <ion-col size=\\\"8\\\">\\n                <div class=\\\"ion-align-items-left\\\">\\n                  {{ p.descrizione }}\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n          \\n        <ion-row>\\n          <ion-col size=\\\"5\\\" style=\\\"color: tomato;\\\">\\n            Prezzo:\\n          </ion-col>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.prezzo}} TOKEN\\n            </div>  \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"5\\\"  style=\\\"color: tomato;\\\">\\n            Quantita:\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita>0\\\">\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.quantita}}\\n            </div>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita==0\\\">\\n            <div class=\\\"ion-text-center\\\" style=\\\"color: red;\\\">\\n              ESAURITO\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              Stato\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col class=\\\"ion-text-center\\\">\\n            <ion-text style=\\\"color: red;\\\" *ngIf=\\\"p.accettato==0\\\">In attesa di accettazione...</ion-text>\\n            <ion-text style=\\\"color: green;\\\" *ngIf=\\\"p.accettato==1\\\">Disponibile Online!</ion-text>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col *ngIf=\\\"p.accettato==1\\\">\\n            <ion-button (click)=\\\"aggiungi(p.id)\\\">\\n             Aggiungi\\n            </ion-button>\\n          </ion-col>\\n       \\n          <ion-col class=\\\"ion-text-right\\\">\\n            <ion-button class=\\\"ion-float-right\\\" fill=\\\"clear\\\" (click)=\\\"alertDelete(p.id)\\\">\\n              <ion-icon style=\\\"color: red;\\\" ios=\\\"ios-trash\\\" md=\\\"md-trash\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n\\n          </ion-row>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"warning\\\" (click)=\\\"openNewProduct()\\\">\\n      <ion-icon ios=\\\"ios-add-circle\\\" md=\\\"md-add-circle\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { SearchFilterPage } from '../modal/search-filter/search-filter.page';\nimport { NavController, MenuController, PopoverController, AlertController, ModalController, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { Bene } from 'src/app/models/bene';\n\n/* export interface Product {\n  id: number;\n  name: string;\n  descrizione: string;\n  price: number;\n} */\n\n@Component({\n  selector: 'app-prodotti',\n  templateUrl: './prodotti.page.html',\n  styleUrls: ['./prodotti.page.scss'],\n})\nexport class ProdottiPage implements OnInit {\n\n  products: Bene[];\n  upperPrice: number;\n  lowerPrice: number;\n  \n  constructor(\n    public navCtrl: NavController,\n    public menuCtrl: MenuController,\n    public popoverCtrl: PopoverController,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private router: Router,\n    private apiService: ApiService,\n    private alertController: AlertController\n  ) {\n      this.upperPrice = 500;\n      this.lowerPrice = 0;\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter(){\n    this.initializeItems();\n  }\n\n\n  async aggiungi(id:number) {\n    const alert = await this.alertController.create({\n      header: \"Aggiungi\",\n      message:\"Inserire la quantita' da aggiungere\",\n      inputs: [\n        {\n          name: 'quantita',\n          type: \"number\",\n          placeholder: 'Quantita'\n        }],\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            data.quantita=parseInt(data.quantita)\n            if(data.quantita<0){data.quantita=0}\n            this.apiService.addBeneQuantita(id,data.quantita).then(Res => {\n              Res.subscribe(async res => {\n                const alert = await this.alertController.create({\n                  header: \"Operazione eseguita.\",\n                  buttons: [\n                    {\n                      text: 'OK',\n                      role: 'cancel',//! con role cancel anche se non viene premuto viene eseguito l'handler\n                      handler: () => {\n                        this.initializeItems();\n                      }\n                    }]\n                });\n                await alert.present();\n              })\n            })\n          }\n        }]\n    });\n    await alert.present();\n  }\n\n\n  initializeItems() {\n    this.apiService.getMyBeni().then(retApiService => {\n      retApiService.subscribe( response => {\n        this.products = response[\"_msg\"];\n        console.info(this.products);\n      })\n    });\n  }\n\n  delete(idProd:number){\n    console.log(idProd);\n    this.apiService.deleteBene(idProd).then(delRes => {\n      delRes.subscribe(async res =>{\n        res=res[\"_msg\"];\n        console.log(res);\n        const alert= await this.alertController.create({\n          header: \"Prodotto eliminato correttamente\",\n          buttons: [\n          {text: 'OK',\n          role: 'cancel',//! con role cancel anche se non viene premuto viene eseguito l'handler\n            handler: () => {\n             this.initializeItems();\n            }\n          }]\n        });\n        await alert.present();\n       })\n    })\n  }\n\n  async alertDelete(idProd:number){\n    this.alertController.create({\n      header: \"Attenzione\",\n      message: \"Vuoi davvero eliminare questo prodotto?\",\n      buttons: [\n        {text: 'No',},\n        {\n          text: 'Si',\n          handler:() => {\n            this.delete(idProd);\n          }\n        }\n    ]\n    }).then(alert=> alert.present());\n  }\n\n  openNewProduct(){\n    this.navCtrl.navigateForward(\"/nuovo-prodotto\");\n  }\n\n  //? Da vedere\n\n  clickItem(){\n    //this.router.navigate([\"/descrizione-transazione\",{\"transaction\": JSON.stringify(this.transactions[3])}]);\n  }\n\n \n\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProdottiPage } from './prodotti.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdottiPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdottiPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kb3R0aS5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}