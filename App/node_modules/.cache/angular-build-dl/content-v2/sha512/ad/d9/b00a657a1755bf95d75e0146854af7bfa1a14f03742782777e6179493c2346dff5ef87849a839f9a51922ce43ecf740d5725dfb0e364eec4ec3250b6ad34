{"version":3,"sources":["./src/app/pages/segnalazione/segnalazione.page.ts","./src/app/pages/segnalazione/segnalazione.page.html","./src/app/pages/segnalazione/segnalazione.page.scss","./src/app/pages/segnalazione/segnalazione-routing.module.ts","./src/app/pages/segnalazione/segnalazione.module.ts"],"names":[],"mappings":"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","file":"pages-segnalazione-segnalazione-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { AlertController, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-segnalazione',\n  templateUrl: './segnalazione.page.html',\n  styleUrls: ['./segnalazione.page.scss'],\n})\nexport class SegnalazionePage implements OnInit {\n\n  tipo: string\n  data: any\n  msg: string;\n  errore: string;\n  nodoDaSegnalare:number;\n\n\n  constructor(private route: ActivatedRoute, private api: ApiService, private alertCtrl: AlertController, private navCtrl : NavController) {\n    this.data = JSON.parse(this.route.snapshot.paramMap.get(\"item\"));\n    this.tipo = this.route.snapshot.paramMap.get(\"tipo\");\n    this.errore=\"\";\n    console.log(this.data)\n    this.nodoDaSegnalare= this.data.nodoRichiedente ? this.data.nodoRichiedente : this.data.nodoEsponente;\n    console.log(this.nodoDaSegnalare)\n  }\n\n  async segnala(){\n    \n    if (this.msg) {\n      if (this.msg.trim() == '') {\n        this.errore = \"Compila adeguatamente il campo messaggio\"\n        return\n      }\n      const alert = await this.alertCtrl.create({\n        header: \"Attezione\",\n        message: \"Vuoi inviare questa segnalazione?\",\n        buttons: [\n          {\n            text: 'OK',\n            role: 'cancel',\n          },\n          {\n            text: 'Si',\n            handler: () => {\n              if(this.tipo=='ordine'){\n                this.api.newSegnalazione(this.tipo, this.data.id, this.data.nodoImpresa, this.msg).then(retApiService => {\n                  retApiService.subscribe(results => {\n                    this.alertCtrl.create({\n                      header: \"Operazione effettuata correttamente.\",\n                      buttons: [\n                        {\n                          text: 'OK',\n                          role: 'cancel',\n                          handler: () => {\n                            this.navCtrl.navigateForward(\"/home\");\n                          }\n                        }]\n                    }).then(alert => alert.present());\n                  });\n                })\n              }\n              else{\n                this.api.newSegnalazione(this.tipo, this.data.id, this.nodoDaSegnalare, this.msg).then(retApiService => {\n                  retApiService.subscribe(results => {\n                    this.alertCtrl.create({\n                      header: \"Operazione effettuata correttamente.\",\n                      buttons: [\n                        {\n                          text: 'OK',\n                          role: 'cancel',\n                          handler: () => {\n                            this.navCtrl.navigateForward(\"/home\");\n                          }\n                        }]\n                    }).then(alert => alert.present());\n                  });\n                })\n              }   \n            }\n          }\n        ]\n      })\n      await alert.present();\n    }\n    else{\n      this.errore=\"Inserisci un messaggio di segnalazione\"\n    }\n  }\n  ngOnInit() {\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Segnala</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"this.tipo=='ordine'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione!\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai inviare segnalare la mancata ricezione del tuo ordine nella data concordata. E' consigliabile effettuare l'operazione di segnalazione solo se non si si riesce a contattare l'azienda che si occupa del prodotto per piu' di 5 giorni lavorativi per evitare che vi siano segnalazioni precoci \\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\" [(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\\n\\n<ion-content *ngIf=\\\"this.tipo=='servizio'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai segnalare la mancata esecuzione di un servizio da parte di un utente o la mancata conferma di un servizio effettivamente svolto.\\n            E' consigliabile usufruire di questa opzione se non si riesce a contattare l'utente da segnalare per piu' di 5 giorni lavorativi.\\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\"[(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWduYWxhemlvbmUucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SegnalazionePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SegnalazionePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SegnalazionePageRoutingModule } from './segnalazione-routing.module';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SegnalazionePageRoutingModule\n  ],\n  declarations: [SegnalazionePage]\n})\nexport class SegnalazionePageModule {}\n"],"sourceRoot":"webpack:///"}