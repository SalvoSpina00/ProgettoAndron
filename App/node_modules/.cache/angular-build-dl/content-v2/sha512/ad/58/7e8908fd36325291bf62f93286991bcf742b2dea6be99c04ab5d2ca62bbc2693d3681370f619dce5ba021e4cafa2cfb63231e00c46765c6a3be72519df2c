{"version":3,"sources":["./src/app/pages/nuovo-prodotto/nuovo-prodotto-routing.module.ts","./src/app/pages/nuovo-prodotto/nuovo-prodotto.module.ts","./src/app/pages/nuovo-prodotto/nuovo-prodotto.page.html","./src/app/pages/nuovo-prodotto/nuovo-prodotto.page.scss","./src/app/models/bene.ts","./src/app/pages/nuovo-prodotto/nuovo-prodotto.page.ts"],"names":[],"mappings":"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","file":"pages-nuovo-prodotto-nuovo-prodotto-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NuovoProdottoPage } from './nuovo-prodotto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NuovoProdottoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NuovoProdottoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NuovoProdottoPageRoutingModule } from './nuovo-prodotto-routing.module';\n\nimport { NuovoProdottoPage } from './nuovo-prodotto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NuovoProdottoPageRoutingModule\n  ],\n  declarations: [NuovoProdottoPage]\n})\nexport class NuovoProdottoPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Nuovo Prodotto</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content id=\\\"myContent\\\">\\n\\n  <ion-list>\\n    <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\">\\n      <ion-card-header>\\n        <ion-card-subtitle>\\n          <div class=\\\"ion-text-center\\\">\\n            Benvenuto!\\n          </div>\\n        </ion-card-subtitle>\\n        <ion-card-content>\\n          In questa pagina potrai inserire i beni che saranno acquistabili tramite ANDRON\\n        </ion-card-content>\\n      </ion-card-header>\\n    </ion-card>\\n\\n    \\n    <ion-img src=\\\"{{ imgSrc }}\\\"></ion-img>\\n    <ion-button *ngIf=\\\"mobile\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"chooseImage()\\\">Scegli immagine</ion-button>\\n    <ion-button *ngIf=\\\"!mobile\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"f.click()\\\">Scegli immagine</ion-button>\\n    <input  class=\\\"ion-hide\\\" #f type=\\\"file\\\" (change)=\\\"chooseImage($event)\\\" id=\\\"file-input\\\" accept=\\\"image/png, image/jpeg\\\">\\n\\n    <ion-item>\\n      <ion-input placeholder=\\\"Nome\\\" type=\\\"nome\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"nome\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Marca\\\" type=\\\"marca\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"marca\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Descrizione\\\" type=\\\"descrizione\\\"  maxlength=\\\"50\\\"[(ngModel)]=\\\"descrizione\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Prezzo\\\" type=\\\"number\\\" [(ngModel)]=\\\"prezzo\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Quantita\\\" type=\\\"number\\\" [(ngModel)]=\\\"quantita\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Categoria\\\" type=\\\"categoria\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"categoria\\\"></ion-input>\\n    </ion-item>\\n\\n  </ion-list>\\n  <ion-button id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click) = \\\"registerProduct()\\\">Registra Prodotto</ion-button>\\n  <p id=\\\"errorText\\\">{{this.errore}}</p>\\n</ion-content>\\n\";","export default \"p {\\n  color: red;\\n  text-align: center;\\n}\\n\\nion-item {\\n  color: #181313;\\n  --highlight-color-invalid: red;\\n  --highlight-color-valid: rgb(24, 19, 19);\\n}\\n\\nion-item:hover {\\n  background-color: #262847;\\n}\\n\\nion-img {\\n  height: 30vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL251b3ZvLXByb2RvdHRvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUNBO0VBQ0ksY0FBQTtFQUVBLDhCQUFBO0VBQ0Esd0NBQUE7QUFDSjs7QUFHQTtFQUNJLHlCQUFBO0FBQUo7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FBREoiLCJmaWxlIjoibnVvdm8tcHJvZG90dG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gICAgY29sb3I6IHJlZDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5pb24taXRlbSB7XG4gICAgY29sb3I6IHJnYigyNCwgMTksIDE5KTtcbi8vICAgIC0tYm9yZGVyLWNvbG9yOiB3aGl0ZTsgLy8gZGVmYXVsdCB1bmRlcmxpbmUgY29sb3JcbiAgICAtLWhpZ2hsaWdodC1jb2xvci1pbnZhbGlkOiByZWQ7IC8vIGludmFsaWQgdW5kZXJsaW5lIGNvbG9yXG4gICAgLS1oaWdobGlnaHQtY29sb3ItdmFsaWQ6IHJnYigyNCwgMTksIDE5KTsgLy8gdmFsaWQgdW5kZXJsaW5lIGNvbG9yXG4vLyAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzQsIDM0LCAzNCk7XG59XG5cbmlvbi1pdGVtOmhvdmVye1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigzOCwgNDAsIDcxKTtcbn1cblxuXG5pb24taW1ne1xuICAgIGhlaWdodDogMzB2aDtcbiAgICB3aWR0aDogYXV0bztcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgXG59Il19 */\";","export class Bene {\n    categoria: string;\n    descrizione: string;\n    foto: any;\n    marca: string;\n    nome: string;  \n    prezzo: number;\n    tipo: string;\n    idProdotto: number;\n    quantita: number;\n}\n","import { Component, OnInit, Output } from '@angular/core';\nimport { Bene } from 'src/app/models/bene';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-nuovo-prodotto',\n  templateUrl: './nuovo-prodotto.page.html',\n  styleUrls: ['./nuovo-prodotto.page.scss'],\n})\nexport class NuovoProdottoPage implements OnInit {\n\n  nome: string;\n  marca:string;\n  descrizione:string;\n  foto: any;\n  prezzo: number;\n  categoria: string;\n  bene: Bene;\n  errore: string;\n  quantita: number;\n  imgSrc: any;\n  mobile: boolean;\n\n  \n  constructor(private apiService: ApiService, private navCtrl: NavController) { \n      this.imgSrc= this.apiService.img\n      this.mobile = !(this.apiService.getPlatform().includes(\"mobileweb\") || this.apiService.getPlatform().includes(\"desktop\")) \n\n  }\n\n  ngOnInit() {}\n\n  registerProduct(){\n    //* Inizializzazione\n    this.bene = new Bene();\n    this.bene.nome = this.nome ?? \"\";\n    this.bene.marca=this.marca ?? \"\";\n    this.bene.descrizione=this.descrizione ?? \"\";\n    this.bene.foto=this.foto ?? null;\n    this.bene.prezzo=this.prezzo ?? -1;\n    this.bene.categoria=this.categoria ?? \"\";\n    this.bene.tipo=\"bene\";\n    this.bene.quantita=this.quantita ?? -1;\n\n    \n    if (this.bene.nome.trim() === \"\" || this.bene.marca.trim() === \"\" || this.bene.descrizione.trim() === \"\" || this.bene.categoria.trim() === \"\") {\n      this.errore = \"Compila adeguatamente tutti i campi\"\n      return\n    }\n\n    if (isNaN(this.bene.prezzo) || this.bene.prezzo<=0){\n      this.errore=\"Prezzo dev'essere un numero positivo maggiore di 0.\"\n      return\n    }\n    if (isNaN(this.bene.quantita) || this.bene.quantita<=0) {\n      this.errore = \"Quantità dev'essere un numero positivo maggiore di 0.\"\n      return\n    }\n    if (this.bene.foto == null){\n      this.errore = \"Inserisci una foto del tuo prodotto.\"\n      return\n    }\n\n    this.apiService.newBene(this.bene).then(retApiService => {\n      retApiService.subscribe({\n        next:(response) =>{\n          this.apiService.simplyAlert(()=>{this.navCtrl.navigateForward(\"/prodotti\")}, \"Operazione effettuata\", \"Prodotto inserito correttamente, una volta che verrà accettato gli altri utenti potranno acquistarlo.\")\n        },\n        error: (error) =>{\n          console.log(error)\n          this.apiService.simplyAlert(()=>{this.navCtrl.navigateForward(\"/prodotti\")})\n        }\n      })\n    });\n    \n  }\n\n\n  \n  chooseImage($event=null){\n    let handler = (imgPath)=>{\n      this.imgSrc = 'data:image/jpeg;base64,' + imgPath;\n      this.foto = imgPath\n    }\n\n    if (this.mobile){\n      this.apiService.chooseImage(handler)\n    }\n    else{\n      this.apiService.getImageBrowser($event,handler)\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}