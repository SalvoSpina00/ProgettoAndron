{"version":3,"sources":["./src/app/pages/prodotti/prodotti.module.ts","./src/app/pages/prodotti/prodotti.page.html","./src/app/pages/prodotti/prodotti.page.ts","./src/app/pages/prodotti/prodotti-routing.module.ts","./src/app/pages/prodotti/prodotti.page.scss"],"names":[],"mappings":"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","file":"pages-prodotti-prodotti-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdottiPageRoutingModule } from './prodotti-routing.module';\n\nimport { ProdottiPage } from './prodotti.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdottiPageRoutingModule\n  ],\n  declarations: [ProdottiPage]\n})\nexport class ProdottiPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>prodotti</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list>\\n\\n      <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\" *ngIf=\\\"products?.length==0\\\">\\n        <ion-card-header>\\n          <ion-card-subtitle>\\n            <div class=\\\"ion-text-center\\\">\\n              Non hai inserito ancora nessun prodotto!\\n            </div>\\n          </ion-card-subtitle>\\n          <ion-card-content>\\n            Premi il pulsante con il simbolo + per inserire un prodotto.\\n          </ion-card-content>\\n        </ion-card-header>\\n      </ion-card>\\n\\n      <ion-card style=\\\"background-color: black;\\\" *ngFor=\\\"let p of products\\\">\\n        <ion-card-content>\\n          <ion-card-title>\\n              <div class=\\\"ion-text-center\\\">\\n                {{ p.nome }}\\n              </div>\\n            </ion-card-title>\\n\\n            <ion-img id=\\\"imgpreview\\\" src=\\\"{{ p.img }}\\\"></ion-img>\\n\\n            <ion-row>\\n                  {{ p.descrizione }}\\n            </ion-row>\\n          \\n        <ion-row>\\n          <ion-col size=\\\"5\\\" style=\\\"color: tomato;\\\">\\n            Prezzo:\\n          </ion-col>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.andron}} ANDRON\\n            </div>  \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"5\\\"  style=\\\"color: tomato;\\\">\\n            Quantita:\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita>0\\\">\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.quantita}}\\n            </div>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita==0\\\">\\n            <div class=\\\"ion-text-center\\\" style=\\\"color: red;\\\">\\n              ESAURITO\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              Stato\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col class=\\\"ion-text-center\\\">\\n            <ion-text style=\\\"color: red;\\\" *ngIf=\\\"p.accettato==0 && p.rifiutato==1\\\">Il prodotto è stato rifiutato, eliminalo per non vederlo più tra quelli inseriti </ion-text>\\n            <ion-text (click)=\\\"popover(0)\\\" style=\\\"color: red;\\\" *ngIf=\\\"p.accettato==0 && p.rifiutato==0\\\">In attesa di accettazione...  <ion-icon name=\\\"help-circle-outline\\\" (click)=\\\"popover(0)\\\"></ion-icon></ion-text>\\n            <ion-text (click)=\\\"popover(1)\\\" style=\\\"color: green;\\\" *ngIf=\\\"p.accettato==1 && p.rifiutato==0\\\">Disponibile Online!  <ion-icon name=\\\"help-circle-outline\\\" (click)=\\\"popover(1)\\\"></ion-icon></ion-text> \\n            \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col *ngIf=\\\"p.accettato==1\\\">\\n            <ion-button (click)=\\\"aggiungi(p.id)\\\">\\n             Aggiungi\\n            </ion-button>\\n          </ion-col>\\n       \\n          <ion-col class=\\\"ion-text-right\\\">\\n            <ion-button class=\\\"ion-float-right\\\" fill=\\\"clear\\\" (click)=\\\"delete(p.id)\\\">\\n              <ion-icon style=\\\"color: red;\\\" ios=\\\"ios-trash\\\" md=\\\"md-trash\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n\\n          </ion-row>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"warning\\\" (click)=\\\"openNewProduct()\\\">\\n      <ion-icon ios=\\\"ios-add-circle\\\" md=\\\"md-add-circle\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";","import { Component } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n\n@Component({\n  selector: 'app-prodotti',\n  templateUrl: './prodotti.page.html',\n  styleUrls: ['./prodotti.page.scss'],\n})\nexport class ProdottiPage {\n\n  products: any = [];\n  \n  constructor(public navCtrl: NavController, private request:RequestService, private utilities: UtilitiesService) {\n    this.initializeItems();\n  }\n\n  aggiungi(id:number) {\n    this.utilities.alertController.create({\n      header: \"Aggiungi\",\n      message:\"Inserire la quantità da aggiungere\",\n      inputs: [\n        {\n          name: 'quantita',\n          type: \"number\",\n          placeholder: 'Quantità'\n        }],\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            data.quantita = data.quantita == \"\" ? 0 : data.quantita\n            data.quantita=parseInt(data.quantita)\n\n            if(data.quantita<=0){\n              data.quantita=0\n              return \n            }\n\n            this.request.put({\n              path:\"/products/mine/\"+id,\n              data:{ quantita : data.quantita },\n              handler:()=>{\n                this.utilities.simplyAlert({\n                  operation:()=>{this.initializeItems()},\n                  header:\"Operazione effettuata\", \n                  message:\"Quantità aggiunta.\"\n                })\n              },\n              error:(error)=>{\n                this.utilities.alertError({})\n              }\n            })\n          }\n        }]\n    }).then(alert => alert.present());\n  }\n\n\n  initializeItems() {\n    this.request.get({\n      path:\"/products/mine\",\n      handler:(result)=>{\n        result[\"_msg\"].forEach(element => {\n          element[\"img\"]= element[\"img\"] != null ? 'data:image/jpeg;base64,'+element[\"img\"] : this.utilities.img\n        });\n        this.products = result[\"_msg\"];\n      },\n      error:()=>{\n        this.utilities.alertError({})\n      }\n    })\n\n  }\n\n  delete(idProd:number){\n    this.utilities.confirmAlert({\n      header:\"Attenzione\",\n      message:\"Vuoi davvero eliminare questo prodotto?\",\n      handlerYes:()=>{\n        this.request.delete({\n          path:\"/products/mine/\"+idProd,\n          handler:(res) =>{\n            this.utilities.simplyAlert({\n              operation:()=>{this.initializeItems()},\n              header:\"Operazione effettuata\", \n              message:\"Prodotto eliminato correttamente.\"\n            })\n          },\n          error:()=>{\n            this.utilities.alertError({})\n          }\n        })\n      }\n    })\n    \n  }\n\n  openNewProduct(){\n    this.navCtrl.navigateForward(\"/nuovo-prodotto\");\n  }\n\n  popover(type){\n    let msg = type == 0 ?\n    \"Il prodotto da te inserito è in stato di attesa, verrà valutato se considerarlo valido. Controlla nei prossimi giorni\" :\n    \"Il prodotto è attualmente online, gli utenti potranno ora acquistarlo usando gli Andron! Controlla se hai già degli ordini!\"\n    this.utilities.createPopover(msg)\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProdottiPage } from './prodotti.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdottiPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdottiPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kb3R0aS5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}