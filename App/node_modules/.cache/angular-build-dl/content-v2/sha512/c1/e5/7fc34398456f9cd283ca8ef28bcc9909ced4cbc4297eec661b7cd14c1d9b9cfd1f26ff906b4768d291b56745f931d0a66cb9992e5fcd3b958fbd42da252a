{"version":3,"sources":["webpack:///src/app/pages/prodotti/prodotti.module.ts","webpack:///src/app/pages/prodotti/prodotti.page.html","webpack:///src/app/pages/prodotti/prodotti.page.ts","webpack:///src/app/pages/prodotti/prodotti-routing.module.ts","webpack:///src/app/pages/prodotti/prodotti.page.scss"],"names":["ProdottiPageModule","imports","declarations","ProdottiPage","navCtrl","menuCtrl","popoverCtrl","alertCtrl","modalCtrl","toastCtrl","router","apiService","alertController","upperPrice","lowerPrice","initializeItems","id","create","header","message","inputs","name","type","placeholder","buttons","text","role","handler","data","quantita","parseInt","addBeneQuantita","then","Res","subscribe","res","alert","present","getMyBeni","retApiService","response","products","console","info","idProd","log","deleteBene","delRes","navigateForward","selector","template","routes","path","component","ProdottiPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-prodotti-prodotti-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdottiPageRoutingModule } from './prodotti-routing.module';\n\nimport { ProdottiPage } from './prodotti.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdottiPageRoutingModule\n  ],\n  declarations: [ProdottiPage]\n})\nexport class ProdottiPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>prodotti</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list>\\n      <ion-card style=\\\"background-color: black;\\\" *ngFor=\\\"let p of products\\\">\\n        <ion-card-content>\\n          <ion-card-title>\\n              <div class=\\\"ion-text-center\\\">\\n                {{ p.nome }}\\n              </div>\\n            </ion-card-title>\\n\\n            <ion-row>\\n              <ion-col size=\\\"4\\\">\\n                <div>\\n                  <ion-avatar slot=\\\"start\\\">\\n                    <img src=\\\"assets/img/andrea.jpg\\\">\\n                  </ion-avatar>\\n                </div>\\n              </ion-col>\\n            \\n              <ion-col size=\\\"8\\\">\\n                <div class=\\\"ion-align-items-left\\\">\\n                  {{ p.descrizione }}\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n          \\n        <ion-row>\\n          <ion-col size=\\\"5\\\" style=\\\"color: tomato;\\\">\\n            Prezzo:\\n          </ion-col>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.prezzo}} TOKEN\\n            </div>  \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"5\\\"  style=\\\"color: tomato;\\\">\\n            Quantita:\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita>0\\\">\\n            <div class=\\\"ion-text-center\\\">\\n              {{p.quantita}}\\n            </div>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"p.quantita==0\\\">\\n            <div class=\\\"ion-text-center\\\" style=\\\"color: red;\\\">\\n              ESAURITO\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <div class=\\\"ion-text-center\\\">\\n              Stato\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col class=\\\"ion-text-center\\\">\\n            <ion-text style=\\\"color: red;\\\" *ngIf=\\\"p.accettato==0\\\">In attesa di accettazione...</ion-text>\\n            <ion-text style=\\\"color: green;\\\" *ngIf=\\\"p.accettato==1\\\">Disponibile Online!</ion-text>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col *ngIf=\\\"p.accettato==1\\\">\\n            <ion-button (click)=\\\"aggiungi(p.id)\\\">\\n             Aggiungi\\n            </ion-button>\\n          </ion-col>\\n       \\n          <ion-col class=\\\"ion-text-right\\\">\\n            <ion-button class=\\\"ion-float-right\\\" fill=\\\"clear\\\" (click)=\\\"alertDelete(p.id)\\\">\\n              <ion-icon style=\\\"color: red;\\\" ios=\\\"ios-trash\\\" md=\\\"md-trash\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n\\n          </ion-row>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"warning\\\" (click)=\\\"openNewProduct()\\\">\\n      <ion-icon ios=\\\"ios-add-circle\\\" md=\\\"md-add-circle\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { SearchFilterPage } from '../modal/search-filter/search-filter.page';\nimport { NavController, MenuController, PopoverController, AlertController, ModalController, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { Bene } from 'src/app/models/bene';\n\n/* export interface Product {\n  id: number;\n  name: string;\n  descrizione: string;\n  price: number;\n} */\n\n@Component({\n  selector: 'app-prodotti',\n  templateUrl: './prodotti.page.html',\n  styleUrls: ['./prodotti.page.scss'],\n})\nexport class ProdottiPage implements OnInit {\n\n  products: Bene[];\n  upperPrice: number;\n  lowerPrice: number;\n  \n  constructor(\n    public navCtrl: NavController,\n    public menuCtrl: MenuController,\n    public popoverCtrl: PopoverController,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private router: Router,\n    private apiService: ApiService,\n    private alertController: AlertController\n  ) {\n      this.upperPrice = 500;\n      this.lowerPrice = 0;\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter(){\n    this.initializeItems();\n  }\n\n\n  async aggiungi(id:number) {\n    const alert = await this.alertController.create({\n      header: \"Aggiungi\",\n      message:\"Inserire la quantita' da aggiungere\",\n      inputs: [\n        {\n          name: 'quantita',\n          type: \"number\",\n          placeholder: 'Quantita'\n        }],\n      buttons: [\n        {\n          text: 'Annulla',\n          role: 'cancel',\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            data.quantita=parseInt(data.quantita)\n            if(data.quantita<0){data.quantita=0}\n            this.apiService.addBeneQuantita(id,data.quantita).then(Res => {\n              Res.subscribe(async res => {\n                const alert = await this.alertController.create({\n                  header: \"Operazione eseguita.\",\n                  buttons: [\n                    {\n                      text: 'OK',\n                      role: 'cancel',//! con role cancel anche se non viene premuto viene eseguito l'handler\n                      handler: () => {\n                        this.initializeItems();\n                      }\n                    }]\n                });\n                await alert.present();\n              })\n            })\n          }\n        }]\n    });\n    await alert.present();\n  }\n\n\n  initializeItems() {\n    this.apiService.getMyBeni().then(retApiService => {\n      retApiService.subscribe( response => {\n        this.products = response[\"_msg\"];\n        console.info(this.products);\n      })\n    });\n  }\n\n  delete(idProd:number){\n    console.log(idProd);\n    this.apiService.deleteBene(idProd).then(delRes => {\n      delRes.subscribe(async res =>{\n        res=res[\"_msg\"];\n        console.log(res);\n        const alert= await this.alertController.create({\n          header: \"Prodotto eliminato correttamente\",\n          buttons: [\n          {text: 'OK',\n          role: 'cancel',//! con role cancel anche se non viene premuto viene eseguito l'handler\n            handler: () => {\n             this.initializeItems();\n            }\n          }]\n        });\n        await alert.present();\n       })\n    })\n  }\n\n  async alertDelete(idProd:number){\n    this.alertController.create({\n      header: \"Attenzione\",\n      message: \"Vuoi davvero eliminare questo prodotto?\",\n      buttons: [\n        {text: 'No',},\n        {\n          text: 'Si',\n          handler:() => {\n            this.delete(idProd);\n          }\n        }\n    ]\n    }).then(alert=> alert.present());\n  }\n\n  openNewProduct(){\n    this.navCtrl.navigateForward(\"/nuovo-prodotto\");\n  }\n\n  //? Da vedere\n\n  clickItem(){\n    //this.router.navigate([\"/descrizione-transazione\",{\"transaction\": JSON.stringify(this.transactions[3])}]);\n  }\n\n \n\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProdottiPage } from './prodotti.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProdottiPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdottiPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kb3R0aS5wYWdlLnNjc3MifQ== */\";"]}