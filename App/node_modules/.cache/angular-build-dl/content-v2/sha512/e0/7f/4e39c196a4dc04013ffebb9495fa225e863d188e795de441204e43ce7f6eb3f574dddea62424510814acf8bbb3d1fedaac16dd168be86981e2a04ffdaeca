{"version":3,"sources":["webpack:///src/app/pages/segnalazione/segnalazione.page.ts","webpack:///src/app/pages/segnalazione/segnalazione.page.html","webpack:///src/app/pages/segnalazione/segnalazione.page.scss","webpack:///src/app/pages/segnalazione/segnalazione-routing.module.ts","webpack:///src/app/pages/segnalazione/segnalazione.module.ts"],"names":["SegnalazionePage","route","api","alertCtrl","navCtrl","data","JSON","parse","snapshot","paramMap","get","tipo","errore","console","log","nodoDaSegnalare","nodoRichiedente","nodoEsponente","msg","trim","create","header","message","buttons","text","role","handler","newSegnalazione","id","nodoImpresa","then","retApiService","subscribe","results","navigateForward","alert","present","selector","template","routes","path","component","SegnalazionePageRoutingModule","imports","forChild","exports","SegnalazionePageModule","declarations"],"mappings":"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","file":"pages-segnalazione-segnalazione-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { AlertController, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-segnalazione',\n  templateUrl: './segnalazione.page.html',\n  styleUrls: ['./segnalazione.page.scss'],\n})\nexport class SegnalazionePage implements OnInit {\n\n  tipo: string\n  data: any\n  msg: string;\n  errore: string;\n  nodoDaSegnalare:number;\n\n\n  constructor(private route: ActivatedRoute, private api: ApiService, private alertCtrl: AlertController, private navCtrl : NavController) {\n    this.data = JSON.parse(this.route.snapshot.paramMap.get(\"item\"));\n    this.tipo = this.route.snapshot.paramMap.get(\"tipo\");\n    this.errore=\"\";\n    console.log(this.data)\n    this.nodoDaSegnalare= this.data.nodoRichiedente ? this.data.nodoRichiedente : this.data.nodoEsponente;\n    console.log(this.nodoDaSegnalare)\n  }\n\n  async segnala(){\n    \n    if (this.msg) {\n      if (this.msg.trim() == '') {\n        this.errore = \"Compila adeguatamente il campo messaggio\"\n        return\n      }\n      const alert = await this.alertCtrl.create({\n        header: \"Attezione\",\n        message: \"Vuoi inviare questa segnalazione?\",\n        buttons: [\n          {\n            text: 'OK',\n            role: 'cancel',\n          },\n          {\n            text: 'Si',\n            handler: () => {\n              if(this.tipo=='ordine'){\n                this.api.newSegnalazione(this.tipo, this.data.id, this.data.nodoImpresa, this.msg).then(retApiService => {\n                  retApiService.subscribe(results => {\n                    this.alertCtrl.create({\n                      header: \"Operazione effettuata correttamente.\",\n                      buttons: [\n                        {\n                          text: 'OK',\n                          role: 'cancel',\n                          handler: () => {\n                            this.navCtrl.navigateForward(\"/home\");\n                          }\n                        }]\n                    }).then(alert => alert.present());\n                  });\n                })\n              }\n              else{\n                this.api.newSegnalazione(this.tipo, this.data.id, this.nodoDaSegnalare, this.msg).then(retApiService => {\n                  retApiService.subscribe(results => {\n                    this.alertCtrl.create({\n                      header: \"Operazione effettuata correttamente.\",\n                      buttons: [\n                        {\n                          text: 'OK',\n                          role: 'cancel',\n                          handler: () => {\n                            this.navCtrl.navigateForward(\"/home\");\n                          }\n                        }]\n                    }).then(alert => alert.present());\n                  });\n                })\n              }   \n            }\n          }\n        ]\n      })\n      await alert.present();\n    }\n    else{\n      this.errore=\"Inserisci un messaggio di segnalazione\"\n    }\n  }\n  ngOnInit() {\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Segnala</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"this.tipo=='ordine'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione!\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai inviare segnalare la mancata ricezione del tuo ordine nella data concordata. E' consigliabile effettuare l'operazione di segnalazione solo se non si si riesce a contattare l'azienda che si occupa del prodotto per piu' di 5 giorni lavorativi per evitare che vi siano segnalazioni precoci \\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\" [(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\\n\\n<ion-content *ngIf=\\\"this.tipo=='servizio'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai segnalare la mancata esecuzione di un servizio da parte di un utente o la mancata conferma di un servizio effettivamente svolto.\\n            E' consigliabile usufruire di questa opzione se non si riesce a contattare l'utente da segnalare per piu' di 5 giorni lavorativi.\\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\"[(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWduYWxhemlvbmUucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SegnalazionePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SegnalazionePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SegnalazionePageRoutingModule } from './segnalazione-routing.module';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SegnalazionePageRoutingModule\n  ],\n  declarations: [SegnalazionePage]\n})\nexport class SegnalazionePageModule {}\n"]}