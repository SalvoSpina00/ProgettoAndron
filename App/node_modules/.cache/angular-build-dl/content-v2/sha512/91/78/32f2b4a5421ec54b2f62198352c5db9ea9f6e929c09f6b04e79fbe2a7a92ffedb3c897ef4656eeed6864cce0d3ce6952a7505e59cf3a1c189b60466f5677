(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["pages-home-home-module"],{

/***/ "/rnz":
/*!*******************************************!*\
  !*** ./src/app/pages/home/home.page.scss ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJob21lLnBhZ2Uuc2NzcyJ9 */");

/***/ }),

/***/ "99Un":
/*!*******************************************!*\
  !*** ./src/app/pages/home/home.module.ts ***!
  \*******************************************/
/*! exports provided: HomePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomePageModule", function() { return HomePageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "c7TG");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _home_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./home.page */ "hsj+");







let HomePageModule = class HomePageModule {
};
HomePageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["RouterModule"].forChild([
                {
                    path: '',
                    component: _home_page__WEBPACK_IMPORTED_MODULE_6__["HomePage"]
                }
            ])
        ],
        declarations: [_home_page__WEBPACK_IMPORTED_MODULE_6__["HomePage"]]
    })
], HomePageModule);



/***/ }),

/***/ "eUf4":
/*!*********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/home/home.page.html ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Home\n    </ion-title>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button autoHide=\"false\" style=\"color: white\"></ion-menu-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"this.utenza=='utente'\">\n  <h3 class=\"ion-text-center\">Saldo</h3>\n  <ion-card>\n    <ion-card-header>\n      <ion-card-title>\n       <div class=\"ion-text-center\">\n         {{budget}} TOKEN\n       </div>\n      </ion-card-title>\n    </ion-card-header>\n    <ion-card-content>\n      <div class=\"ion-text-center\">Saldo disponibile al {{today}}.</div>\n    </ion-card-content>\n  </ion-card>\n\n  <h3 class=\"ion-text-center\">News</h3>\n \n  <ion-list>\n    <ion-card style=\"background-color: black;\">\n      <ion-card-content>\n        <ion-card-title class=\"ion-text-center\">\n          Titolo News...  \n        </ion-card-title>\n  \n          <ion-row>\n            <ion-col size=\"4\">\n              <div>\n                <ion-avatar slot=\"start\">\n                  <img src=\"assets/img/andrea.jpg\">\n                </ion-avatar>\n              </div>\n            </ion-col>\n          \n            <ion-col size=\"8\">\n              <div class=\"ion-align-items-left\">\n                  Intro news....\n              </div>\n            </ion-col>\n          </ion-row>\n      </ion-card-content>\n    </ion-card>\n\n    <ion-card style=\"background-color: black;\">\n      <ion-card-content>\n        <ion-card-title class=\"ion-text-center\">\n          Titolo News...  \n        </ion-card-title>\n  \n          <ion-row>\n            <ion-col size=\"4\">\n              <div>\n                <ion-avatar slot=\"start\">\n                  <img src=\"assets/img/andrea.jpg\">\n                </ion-avatar>\n              </div>\n            </ion-col>\n          \n            <ion-col size=\"8\">\n              <div class=\"ion-align-items-left\">\n                  Intro news....\n              </div>\n            </ion-col>\n          </ion-row>\n      </ion-card-content>\n    </ion-card>\n  </ion-list>\n</ion-content>\n\n<ion-content *ngIf=\"this.utenza=='impresa'\">\n  <h3 class=\"ion-text-center\">Ordini da evadere</h3>\n  <ion-card style=\"background-color: rgb(29, 39, 61)\" *ngIf=\"this.ordini?.length==0\">\n    <ion-card-header>\n      <ion-card-subtitle>\n        <div class=\"ion-text-center\">\n          Nessuna ordine da evadere!\n        </div>\n      </ion-card-subtitle>\n    </ion-card-header>\n  </ion-card>\n  <ion-list>\n\n    <ion-card style=\"background-color: rgb(29, 39, 61);\" *ngFor=\"let item of ordini\">\n      <ion-card-header>\n        <ion-card-subtitle style=\"font-size:10px\" class=\"ion-text-wrap\">\n          <ion-grid>\n            <ion-row>\n              <ion-col>\n                <div class=\"ion-text-center\">\n                  #{{item.id}}\n                </div>\n              </ion-col>\n            </ion-row>\n            <ion-row>\n              <ion-col>\n                <div>\n                  Ordine di:\n                </div>\n              </ion-col>\n              <ion-col size=\"8\">\n                <div class=\"ion-text-center\">\n                  {{item.nome}} {{item.cognome}}\n                </div>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n      \n        </ion-card-subtitle>\n        <ion-card-title color=\"black\" lines=\"none\" style=\"font-size:14px\" class=\"ion-text-wrap\">{{item.nomeBene}} x {{item.quantita}}\n        </ion-card-title>\n      </ion-card-header>\n\n      <ion-card-content>\n        <ion-grid>\n          <ion-row>\n            <ion-col>\n              <div  style=\"color: tomato;\" class=\"ion-text-center\">\n                Contatti acquirente\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <div  style=\"color: tomato;\">\n                Telefono\n              </div>\n            </ion-col>\n\n            <ion-col>\n              <div>\n                {{item.telefono}}\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <div  style=\"color: tomato;\">\n                Email\n              </div>\n            </ion-col>\n          \n            <ion-col>\n              <div>\n                {{item.mail}}\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <div  style=\"color: tomato;\">\n                Via\n              </div>\n            </ion-col>\n          \n            <ion-col>\n              <div>\n                {{item.via}}\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <div  style=\"color: tomato;\">\n               Cap\n              </div>\n            </ion-col>\n          \n            <ion-col>\n              <div>\n                {{item.cap}}\n              </div>\n            </ion-col>\n          </ion-row>\n\n\n          <ion-row>\n            <ion-col>\n              <div>\n                <ion-button size=\"small\" expand=\"block\" (click)=\"evadiOrdine(item.id)\">\n                  Evadi Ordine\n                </ion-button>\n              </div>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </ion-card-content>\n\n    </ion-card>\n  </ion-list>\n</ion-content>\n");

/***/ }),

/***/ "hsj+":
/*!*****************************************!*\
  !*** ./src/app/pages/home/home.page.ts ***!
  \*****************************************/
/*! exports provided: HomePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomePage", function() { return HomePage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_home_page_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./home.page.html */ "eUf4");
/* harmony import */ var _home_page_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.page.scss */ "/rnz");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_api_service_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api-service.service */ "ul72");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "c7TG");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/storage */ "e8h1");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "tyNb");








let HomePage = class HomePage {
    constructor(menu, storage, api, alertCtrl, router) {
        this.menu = menu;
        this.storage = storage;
        this.api = api;
        this.alertCtrl = alertCtrl;
        this.router = router;
    }
    ionViewWillEnter() {
        this.storage.get("utenza").then((a) => {
            this.utenza = a;
            if (this.utenza == "utente") {
                this.getSaldo();
            }
            else {
                this.searchOrdini();
            }
        });
    }
    getSaldo() {
        // chiamata get
        this.api.getBudget().then(retApiService => {
            retApiService.subscribe(response => {
                this.budget = response["_msg"].budget;
                this.date = new Date();
                this.dd = String(this.date.getDate()).padStart(2, '0');
                this.mm = String(this.date.getMonth() + 1).padStart(2, '0'); //January is 0!
                this.yyyy = this.date.getFullYear();
                this.today = this.mm + '/' + this.dd + '/' + this.yyyy;
            });
        });
    }
    evadiOrdine(id) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alert = yield this.alertCtrl.create({
                header: "Attenzione",
                message: "Vuoi davvero confermare l'evasione dell'ordine? l'operazione non e' annullabile",
                buttons: [
                    {
                        text: 'No',
                        role: 'cancel',
                    },
                    {
                        text: 'Si',
                        handler: () => {
                            this.api.setCheckOrdine(id).then(retApiService => {
                                retApiService.subscribe(results => {
                                    this.alertCtrl.create({
                                        header: "Operazione effettuata correttamente.",
                                        buttons: [
                                            {
                                                text: 'OK',
                                                role: 'cancel',
                                                handler: () => {
                                                    this.searchOrdini();
                                                }
                                            }
                                        ]
                                    }).then(alert => alert.present());
                                });
                            });
                        }
                    }
                ]
            });
            yield alert.present();
        });
    }
    /*
      async setStato(id:number ,stato:string){
        if (stato == "rifiutato") {
          this.msg = "Vuoi davvero rifiutare questo servizio?"
        }
        if (stato == "accettato") {
          this.msg = "Vuoi davvero accettare questo servizio?"
        }
        if (stato == "eliminato") {
          this.msg = "Vuoi davvero accettare questo servizio? Non sara' possibile annullare questa operazione."
        }
        if (stato == "eseguito") {
          this.msg = "Hai davvero eseguito questo servizio?"
        }
        if (stato == "concluso") {
          this.msg = "Vuoi concludere questo servizio?"
        }
        
        const alert = await this.alertCtrl.create({
          header: this.msg,
          buttons: [
            {
              text: 'No',
              role: 'cancel',
            },
            {
              text: 'Si',
              handler: () => {
                this.api.setRichiesta(id, stato).then(retApiService => {
                  retApiService.subscribe(results => {
                    this.alertCtrl.create({
                      header: "Operazione effettuata correttamente.",
                      buttons: [
                        {
                          text: 'OK',
                          role: 'cancel',//! con role cancel anche se non viene premuto viene eseguito l'handler
                          handler: () => {
                            this.searchmyRichiesteTODO()
                            this.searchmyRichieste()
                          }
                        }]
                    }).then(alert => alert.present());
                  });
                })
              }
            }
          ]
        })
        await alert.present();
        
      }*/
    searchOrdini() {
        this.api.getOrdiniImprese().then(retApiService => {
            retApiService.subscribe(response => {
                //console.info(response);
                this.ordini = response["_msg"];
                console.log(this.ordini);
            }, errore => {
                console.info(errore["error"]);
            });
        });
    }
    openFirst() {
        this.menu.enable(true, 'first');
        this.menu.open('first');
    }
    openEnd() {
        this.menu.open('end');
    }
    openCustom() {
        this.menu.enable(true, 'custom');
        this.menu.open('custom');
    }
    conferma(item, tipo) {
        this.router.navigate(["/feedback", { "item": JSON.stringify(item), "tipo": tipo }]);
    }
    segnala(item, tipo, richiestaMia) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (richiestaMia) {
                if (item.segnalazioneRichiedente) {
                    const alert = yield this.alertCtrl.create({
                        header: "Attezione",
                        message: "Hai gia' inviato una segnalazione per questo prodotto! Verrai contattato presto da qualcuno del nostro team.",
                        buttons: [
                            {
                                text: 'No',
                                role: 'cancel',
                            },
                        ]
                    });
                    yield alert.present();
                }
                else {
                    this.router.navigate(["/segnalazione", { "item": JSON.stringify(item), "tipo": tipo }]);
                }
            }
            else {
                if (item.segnalazioneEsponente) {
                    const alert = yield this.alertCtrl.create({
                        header: "Attezione",
                        message: "Hai gia' inviato una segnalazione per questo prodotto! Verrai contattato presto da qualcuno del nostro team.",
                        buttons: [
                            {
                                text: 'No',
                                role: 'cancel',
                            },
                        ]
                    });
                    yield alert.present();
                }
                else {
                    this.router.navigate(["/segnalazione", { "item": JSON.stringify(item), "tipo": tipo }]);
                }
            }
        });
    }
};
HomePage.ctorParameters = () => [
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["MenuController"] },
    { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_6__["Storage"] },
    { type: _services_api_service_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] },
    { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] }
];
HomePage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-home',
        template: _raw_loader_home_page_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        styles: [_home_page_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_5__["MenuController"], _ionic_storage__WEBPACK_IMPORTED_MODULE_6__["Storage"], _services_api_service_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"], _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"], _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"]])
], HomePage);



/***/ })

}]);
//# sourceMappingURL=pages-home-home-module-es2015.js.map