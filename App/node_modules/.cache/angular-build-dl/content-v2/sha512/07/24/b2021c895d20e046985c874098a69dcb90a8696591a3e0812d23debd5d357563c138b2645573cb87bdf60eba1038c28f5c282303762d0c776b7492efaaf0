{"version":3,"sources":["webpack:///src/app/pages/nuovo-prodotto/nuovo-prodotto-routing.module.ts","webpack:///src/app/pages/nuovo-prodotto/nuovo-prodotto.module.ts","webpack:///src/app/pages/nuovo-prodotto/nuovo-prodotto.page.html","webpack:///src/app/pages/nuovo-prodotto/nuovo-prodotto.page.scss","webpack:///src/app/models/bene.ts","webpack:///src/app/pages/nuovo-prodotto/nuovo-prodotto.page.ts"],"names":["routes","path","component","NuovoProdottoPageRoutingModule","imports","forChild","exports","NuovoProdottoPageModule","declarations","Bene","NuovoProdottoPage","apiService","navCtrl","imgSrc","img","mobile","getPlatform","includes","bene","nome","marca","descrizione","foto","prezzo","categoria","tipo","quantita","trim","errore","isNaN","newBene","then","retApiService","subscribe","next","response","simplyAlert","navigateForward","error","console","log","$event","handler","imgPath","chooseImage","getImageBrowser","selector","template"],"mappings":"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","file":"pages-nuovo-prodotto-nuovo-prodotto-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NuovoProdottoPage } from './nuovo-prodotto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NuovoProdottoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NuovoProdottoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NuovoProdottoPageRoutingModule } from './nuovo-prodotto-routing.module';\n\nimport { NuovoProdottoPage } from './nuovo-prodotto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NuovoProdottoPageRoutingModule\n  ],\n  declarations: [NuovoProdottoPage]\n})\nexport class NuovoProdottoPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Nuovo Prodotto</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content id=\\\"myContent\\\">\\n\\n  <ion-list>\\n    <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\">\\n      <ion-card-header>\\n        <ion-card-subtitle>\\n          <div class=\\\"ion-text-center\\\">\\n            Benvenuto!\\n          </div>\\n        </ion-card-subtitle>\\n        <ion-card-content>\\n          In questa pagina potrai inserire i beni che saranno acquistabili tramite ANDRON\\n        </ion-card-content>\\n      </ion-card-header>\\n    </ion-card>\\n\\n    \\n    <ion-img src=\\\"{{ imgSrc }}\\\"></ion-img>\\n    <ion-button *ngIf=\\\"mobile\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"chooseImage()\\\">Scegli immagine</ion-button>\\n    <ion-button *ngIf=\\\"!mobile\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"f.click()\\\">Scegli immagine</ion-button>\\n    <input  class=\\\"ion-hide\\\" #f type=\\\"file\\\" (change)=\\\"chooseImage($event)\\\" id=\\\"file-input\\\" accept=\\\"image/png, image/jpeg\\\">\\n\\n    <ion-item>\\n      <ion-input placeholder=\\\"Nome\\\" type=\\\"nome\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"nome\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Marca\\\" type=\\\"marca\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"marca\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Descrizione\\\" type=\\\"descrizione\\\"  maxlength=\\\"50\\\"[(ngModel)]=\\\"descrizione\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Prezzo\\\" type=\\\"number\\\" [(ngModel)]=\\\"prezzo\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Quantita\\\" type=\\\"number\\\" [(ngModel)]=\\\"quantita\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Categoria\\\" type=\\\"categoria\\\"  maxlength=\\\"30\\\"[(ngModel)]=\\\"categoria\\\"></ion-input>\\n    </ion-item>\\n\\n  </ion-list>\\n  <ion-button id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click) = \\\"registerProduct()\\\">Registra Prodotto</ion-button>\\n  <p id=\\\"errorText\\\">{{this.errore}}</p>\\n</ion-content>\\n\";","export default \"p {\\n  color: red;\\n  text-align: center;\\n}\\n\\nion-item {\\n  color: #181313;\\n  --highlight-color-invalid: red;\\n  --highlight-color-valid: rgb(24, 19, 19);\\n}\\n\\nion-item:hover {\\n  background-color: #262847;\\n}\\n\\nion-img {\\n  height: 30vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL251b3ZvLXByb2RvdHRvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUNBO0VBQ0ksY0FBQTtFQUVBLDhCQUFBO0VBQ0Esd0NBQUE7QUFDSjs7QUFHQTtFQUNJLHlCQUFBO0FBQUo7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FBREoiLCJmaWxlIjoibnVvdm8tcHJvZG90dG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gICAgY29sb3I6IHJlZDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5pb24taXRlbSB7XG4gICAgY29sb3I6IHJnYigyNCwgMTksIDE5KTtcbi8vICAgIC0tYm9yZGVyLWNvbG9yOiB3aGl0ZTsgLy8gZGVmYXVsdCB1bmRlcmxpbmUgY29sb3JcbiAgICAtLWhpZ2hsaWdodC1jb2xvci1pbnZhbGlkOiByZWQ7IC8vIGludmFsaWQgdW5kZXJsaW5lIGNvbG9yXG4gICAgLS1oaWdobGlnaHQtY29sb3ItdmFsaWQ6IHJnYigyNCwgMTksIDE5KTsgLy8gdmFsaWQgdW5kZXJsaW5lIGNvbG9yXG4vLyAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzQsIDM0LCAzNCk7XG59XG5cbmlvbi1pdGVtOmhvdmVye1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigzOCwgNDAsIDcxKTtcbn1cblxuXG5pb24taW1ne1xuICAgIGhlaWdodDogMzB2aDtcbiAgICB3aWR0aDogYXV0bztcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgXG59Il19 */\";","export class Bene {\n    categoria: string;\n    descrizione: string;\n    foto: any;\n    marca: string;\n    nome: string;  \n    prezzo: number;\n    tipo: string;\n    idProdotto: number;\n    quantita: number;\n}\n","import { Component, OnInit, Output } from '@angular/core';\nimport { Bene } from 'src/app/models/bene';\nimport { ApiService } from 'src/app/services/api-service.service';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-nuovo-prodotto',\n  templateUrl: './nuovo-prodotto.page.html',\n  styleUrls: ['./nuovo-prodotto.page.scss'],\n})\nexport class NuovoProdottoPage implements OnInit {\n\n  nome: string;\n  marca:string;\n  descrizione:string;\n  foto: any;\n  prezzo: number;\n  categoria: string;\n  bene: Bene;\n  errore: string;\n  quantita: number;\n  imgSrc: any;\n  mobile: boolean;\n\n  \n  constructor(private apiService: ApiService, private navCtrl: NavController) { \n      this.imgSrc= this.apiService.img\n      this.mobile = !(this.apiService.getPlatform().includes(\"mobileweb\") || this.apiService.getPlatform().includes(\"desktop\")) \n\n  }\n\n  ngOnInit() {}\n\n  registerProduct(){\n    //* Inizializzazione\n    this.bene = new Bene();\n    this.bene.nome = this.nome ?? \"\";\n    this.bene.marca=this.marca ?? \"\";\n    this.bene.descrizione=this.descrizione ?? \"\";\n    this.bene.foto=this.foto ?? null;\n    this.bene.prezzo=this.prezzo ?? -1;\n    this.bene.categoria=this.categoria ?? \"\";\n    this.bene.tipo=\"bene\";\n    this.bene.quantita=this.quantita ?? -1;\n\n    \n    if (this.bene.nome.trim() === \"\" || this.bene.marca.trim() === \"\" || this.bene.descrizione.trim() === \"\" || this.bene.categoria.trim() === \"\") {\n      this.errore = \"Compila adeguatamente tutti i campi\"\n      return\n    }\n\n    if (isNaN(this.bene.prezzo) || this.bene.prezzo<=0){\n      this.errore=\"Prezzo dev'essere un numero positivo maggiore di 0.\"\n      return\n    }\n    if (isNaN(this.bene.quantita) || this.bene.quantita<=0) {\n      this.errore = \"Quantità dev'essere un numero positivo maggiore di 0.\"\n      return\n    }\n    if (this.bene.foto == null){\n      this.errore = \"Inserisci una foto del tuo prodotto.\"\n      return\n    }\n\n    this.apiService.newBene(this.bene).then(retApiService => {\n      retApiService.subscribe({\n        next:(response) =>{\n          this.apiService.simplyAlert(()=>{this.navCtrl.navigateForward(\"/prodotti\")}, \"Operazione effettuata\", \"Prodotto inserito correttamente, una volta che verrà accettato gli altri utenti potranno acquistarlo.\")\n        },\n        error: (error) =>{\n          console.log(error)\n          this.apiService.simplyAlert(()=>{this.navCtrl.navigateForward(\"/prodotti\")})\n        }\n      })\n    });\n    \n  }\n\n\n  \n  chooseImage($event=null){\n    let handler = (imgPath)=>{\n      this.imgSrc = 'data:image/jpeg;base64,' + imgPath;\n      this.foto = imgPath\n    }\n\n    if (this.mobile){\n      this.apiService.chooseImage(handler)\n    }\n    else{\n      this.apiService.getImageBrowser($event,handler)\n    }\n  }\n}\n"]}