{"version":3,"sources":["webpack:///src/app/pages/segnalazione/segnalazione.page.ts","webpack:///src/app/pages/segnalazione/segnalazione.page.html","webpack:///src/app/pages/segnalazione/segnalazione.page.scss","webpack:///src/app/pages/segnalazione/segnalazione-routing.module.ts","webpack:///src/app/pages/segnalazione/segnalazione.module.ts"],"names":["SegnalazionePage","route","navCtrl","request","utilities","data","JSON","parse","snapshot","paramMap","get","tipo","errore","msg","trim","length","confirmAlert","header","message","handlerYes","utente","esponente","richiedente","nodoImpresa","post","path","_msg","_tipo","id","handler","simplyAlert","operation","navigateForward","error","alertError","selector","template","routes","component","SegnalazionePageRoutingModule","imports","forChild","exports","SegnalazionePageModule","declarations"],"mappings":"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","file":"pages-segnalazione-segnalazione-module-es5.js","sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n@Component({\n  selector: 'app-segnalazione',\n  templateUrl: './segnalazione.page.html',\n  styleUrls: ['./segnalazione.page.scss'],\n})\nexport class SegnalazionePage {\n\n  tipo: string\n  data: any\n  msg: string;\n  errore: string;\n\n\n  constructor(private route: ActivatedRoute, private navCtrl : NavController, private request: RequestService, private utilities: UtilitiesService) {\n    this.data = JSON.parse(this.route.snapshot.paramMap.get(\"item\"));\n    this.tipo = this.route.snapshot.paramMap.get(\"tipo\");\n    this.errore=\"\";\n  }\n\n\n  segnala(){\n    \n    if (!this.msg || this.msg.trim() == '') {\n      this.errore=\"Inserisci un messaggio di segnalazione\"\n      return \n    }   \n\n    if (this.msg.length<5 || this.msg.length>500){\n      this.errore = \"Minimo 5 caratteri, massimo 500\"\n      return\n    }\n\n    this.utilities.confirmAlert({\n      header:\"Attenzione\",\n      message:\"Vuoi inviare questa segnalazione?\",\n\n      handlerYes:()=>{\n        let utente = this.data.esponente ?? this.data.richiedente\n        utente = this.tipo == \"ordine\" ? this.data.nodoImpresa : utente\n\n        this.request.post({\n          path:\"/report\",\n          data:{\n            _msg: this.msg, \n            _tipo: this.tipo, \n            id: this.data.id, \n            utente: utente\n          },\n          handler:()=>{\n            this.utilities.simplyAlert({\n              operation:()=>{this.navCtrl.navigateForward(\"/home\")},\n              header:\"Operazione effettuata\",\n              message:\"Segnalazione inviata con successo.\"\n            })\n          },\n          error:()=>{\n            this.utilities.alertError({})\n          }\n        })\n      }\n    })\n\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Segnala</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"this.tipo=='ordine'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione!\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai inviare segnalare la mancata ricezione del tuo ordine nella data concordata. E' consigliabile effettuare l'operazione di segnalazione solo se non si si riesce a contattare l'azienda che si occupa del prodotto per piu' di 5 giorni lavorativi per evitare che vi siano segnalazioni precoci \\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\" [(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\\n\\n<ion-content *ngIf=\\\"this.tipo=='servizio'\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Attenzione\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-grid>\\n        <ion-row>\\n          <div>\\n            Qui potrai segnalare la mancata esecuzione di un servizio da parte di un utente o la mancata conferma di un servizio effettivamente svolto.\\n            E' consigliabile usufruire di questa opzione se non si riesce a contattare l'utente da segnalare per piu' di 5 giorni lavorativi.\\n          </div>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-textarea placeholder=\\\"Messaggio...\\\"  maxlength=\\\"500\\\"[(ngModel)]=\\\"msg\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <p>{{this.errore}}</p>\\n  <ion-button size=\\\"small\\\" expand=\\\"block\\\" (click)=\\\"segnala()\\\">\\n    Segnala\\n  </ion-button>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWduYWxhemlvbmUucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SegnalazionePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SegnalazionePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SegnalazionePageRoutingModule } from './segnalazione-routing.module';\n\nimport { SegnalazionePage } from './segnalazione.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SegnalazionePageRoutingModule\n  ],\n  declarations: [SegnalazionePage]\n})\nexport class SegnalazionePageModule {}\n"]}