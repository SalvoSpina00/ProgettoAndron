{"version":3,"sources":["webpack:///src/app/pages/richiedi-servizi/richiedi-servizi.page.ts","webpack:///src/app/pages/richiedi-servizi/richiedi-servizi-routing.module.ts","webpack:///src/app/pages/richiedi-servizi/richiedi-servizi.page.html","webpack:///src/app/pages/richiedi-servizi/richiedi-servizi.page.scss","webpack:///src/app/pages/richiedi-servizi/richiedi-servizi.module.ts"],"names":["RichiediServiziPage","router","request","utilities","servizi","psize","page","filtro","termine","getServizi","id","tipo","nome","navigate","add","get","path","httpParam","_page","_psize","handler","results","t","push","error","alertError","event","target","complete","val","value","trim","selector","template","routes","component","RichiediServiziPageRoutingModule","imports","forChild","exports","RichiediServiziPageModule","declarations"],"mappings":"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","file":"pages-richiedi-servizi-richiedi-servizi-module-es5.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n@Component({\n  selector: 'app-richiedi-servizi',\n  templateUrl: './richiedi-servizi.page.html',\n  styleUrls: ['./richiedi-servizi.page.scss'],\n})\nexport class RichiediServiziPage{\n  \n  servizi: any[]=[];\n  psize: number = 5;\n  page: number = 0;\n  filtro: boolean = false\n  termine: string = \"None\";\n\n  constructor( private router: Router, private request : RequestService, private utilities: UtilitiesService) {\n    this.getServizi()  \n  }\n\n  feedback(id:string,tipo:string,nome:string){\n    this.router.navigate([\"/infofeedback\", { \"id\": id, \"tipo\": tipo, \"nome\" : nome }]);\n  }\n\n  getServizi(add=()=>{}) {\n    this.request.get({\n      path:\"/services\",\n      httpParam:{\n        _page: this.page,\n        _psize: this.psize,\n        filtro: this.filtro,\n        termine:this.termine\n      },\n      handler:(results)=>{\n        for (const t of results[\"_msg\"]) {\n          this.servizi.push(t);\n        };\n        add()\n      },\n      error:()=>{\n        this.utilities.alertError({})\n      }\n    })\n  }\n\n  loadmore(event){\n    this.page++\n    this.getServizi(()=>{event.target.complete()})\n  }\n\n  rimuoviFiltri(){\n    this.page=0\n    this.filtro=false;\n    this.termine='';\n    this.getServizi()\n  }\n\n  filter(event){\n    let val=event.target.value;\n    if (val.trim() != '') {\n      this.page=0\n      this.filtro=true;\n      this.termine=val;\n      \n    }\n    else{\n      this.termine=''\n    }\n    this.getServizi()\n  }\n\n  clickItem(id:number){\n      this.router.navigate([\"/richiesta\", { \"id\": id }])\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RichiediServiziPage } from './richiedi-servizi.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RichiediServiziPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RichiediServiziPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text>Richiedi servizi</ion-text>\\n    </ion-title>\\n  </ion-toolbar>\\n  <ion-toolbar>\\n    <ion-searchbar (keyup.enter)=\\\"filter($event)\\\" placeholder=\\\"Cerca\\\"></ion-searchbar>\\n  </ion-toolbar>\\n  <ion-toolbar *ngIf=\\\"filtro==true\\\">\\n    <ion-button  size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"rimuoviFiltri()\\\">Rimuovi filtro</ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list>\\n    <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\" *ngIf=\\\"servizi?.length==0\\\">\\n      <ion-card-header>\\n        <ion-card-subtitle>\\n          <div class=\\\"ion-text-center\\\">\\n            Attenzione!\\n          </div>\\n        </ion-card-subtitle>\\n        <ion-card-content>\\n          Attualmente non sono presenti servizi da poter richiedere.<br>Controlla nei prossimi giorni! \\n        </ion-card-content>\\n      </ion-card-header>\\n    </ion-card>\\n\\n\\n    <ion-card *ngFor=\\\"let s of this.servizi\\\">\\n      <ion-card-content>\\n        <ion-card-subtitle>\\n            <ion-row>\\n              <ion-col>\\n                <div class=\\\"ion-text-center\\\">\\n                  Fornito da:\\n                </div>\\n              </ion-col>\\n              <ion-col class=\\\"ion-text-center\\\">\\n                <div (click)=\\\"feedback(s.utente,'utente',s.nomeUtente + ' ' + s.cognomeUtente)\\\">\\n                  {{s.nomeUtente}} {{s.cognomeUtente}}\\n                </div>\\n              </ion-col>\\n            </ion-row>\\n        </ion-card-subtitle>\\n        <ion-card-title  class=\\\"ion-text-center\\\"(click)=\\\"clickItem(s.id)\\\">{{ s.nome }}</ion-card-title>\\n     \\n          <ion-row>\\n            <ion-col>\\n                {{s.descrizione}}\\n            </ion-col>\\n          </ion-row>\\n              \\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              Prezzo:\\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.andron}}\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              Tempo massimo dedicabile (h): \\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.ore}}\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n                Giorni minimi di preavviso:\\n            </ion-col>\\n\\n            <ion-col>\\n                {{s.preavviso}}\\n            </ion-col>\\n          </ion-row>\\n          \\n          <ion-row>\\n            <ion-col>\\n              <ion-button id=\\\"myButtonYellow\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"clickItem(s.id)\\\">Richiedi</ion-button>\\n            </ion-col>\\n          </ion-row>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadmore($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Caricamento...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n\\n  </ion-list>\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyaWNoaWVkaS1zZXJ2aXppLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RichiediServiziPageRoutingModule } from './richiedi-servizi-routing.module';\n\nimport { RichiediServiziPage } from './richiedi-servizi.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RichiediServiziPageRoutingModule\n  ],\n  declarations: [RichiediServiziPage]\n})\nexport class RichiediServiziPageModule {}\n"]}