{"version":3,"sources":["webpack:///src/app/pages/segnala-bisogni/segnala-bisogni.module.ts","webpack:///src/app/pages/segnala-bisogni/segnala-bisogni.page.scss","webpack:///src/app/pages/segnala-bisogni/segnala-bisogni-routing.module.ts","webpack:///src/app/pages/segnala-bisogni/segnala-bisogni.page.html","webpack:///src/app/pages/segnala-bisogni/segnala-bisogni.page.ts"],"names":["SegnalaBisogniPageModule","imports","declarations","routes","path","component","SegnalaBisogniPageRoutingModule","forChild","exports","SegnalaBisogniPage","formBuilder","navCtrl","plugin","request","utilities","errore","varLength","nome","min","max","descrizione","citta","via","defaultMessages","required","spaces","maxlength","minlength","errorMessages","type","message","segnalaBisogniForm","group","maxLength","minLength","imgSrc","img","get","imgSend","position","data","value","post","handler","result","simplyAlert","operation","navigateForward","header","error","err","alertError","undefined","getCurrentPosition","coords","latitude","longitude","$event","chooseIm","selector","template"],"mappings":"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","file":"pages-segnala-bisogni-segnala-bisogni-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SegnalaBisogniPageRoutingModule } from './segnala-bisogni-routing.module';\n\nimport { SegnalaBisogniPage } from './segnala-bisogni.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SegnalaBisogniPageRoutingModule\n  ],\n  declarations: [SegnalaBisogniPage]\n})\nexport class SegnalaBisogniPageModule {}\n","export default \".error-message {\\n  text-align: center;\\n  color: var(--ion-color-danger);\\n  padding-left: 20px;\\n}\\n\\nion-img {\\n  height: 30vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlZ25hbGEtYmlzb2duaS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFDSiIsImZpbGUiOiJzZWduYWxhLWJpc29nbmkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yLW1lc3NhZ2V7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG59XG5cbmlvbi1pbWd7XG4gICAgaGVpZ2h0OiAzMHZoO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SegnalaBisogniPage } from './segnala-bisogni.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SegnalaBisogniPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SegnalaBisogniPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text>Segnala Bisogni</ion-text>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\">\\n    <ion-card-header>\\n      <ion-card-subtitle>\\n        <div class=\\\"ion-text-center\\\">\\n          Benvenuto!\\n        </div>\\n      </ion-card-subtitle>\\n      <ion-card-content>\\n        In questa pagina potrai segnalare eventuali bisogni, una volta accettati verranno resi disponibili a tutti e chi vorrà potrà occuparsene!\\n      </ion-card-content>\\n    </ion-card-header>\\n  </ion-card>\\n  <form [formGroup]=\\\"segnalaBisogniForm\\\" (ngSubmit)=\\\"submit()\\\">\\n    <ion-list>\\n    \\n      <ion-img src=\\\"{{ imgSrc }}\\\"></ion-img>\\n      <ion-button *ngIf=\\\"this.plugin.mobile()\\\"  id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"chooseImage()\\\">Inserisci foto</ion-button>\\n      <ion-button *ngIf=\\\"!this.plugin.mobile()\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"f.click()\\\">Inserisci foto</ion-button>\\n      <input  class=\\\"ion-hide\\\" #f type=\\\"file\\\" (change)=\\\"chooseImage($event)\\\" id=\\\"file-input\\\" accept=\\\"image/png, image/jpeg\\\">\\n      <ion-item> <!--!Nome-->\\n        <ion-label position=\\\"floating\\\">Nome</ion-label>\\n        <ion-input formControlName=\\\"nome\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.nome\\\">\\n        <ng-container *ngIf=\\\"nome.hasError(error.type) && (nome.dirty || nome.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n      <ion-item> <!--!Descrizione-->\\n        <ion-label position=\\\"floating\\\">Descrizione</ion-label>\\n        <ion-input formControlName=\\\"descrizione\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.descrizione\\\">\\n        <ng-container *ngIf=\\\"descrizione.hasError(error.type) && (descrizione.dirty || descrizione.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n      <ion-card *ngIf=\\\"this.plugin.mobile()\\\" style=\\\"background-color:rgb(29, 39, 61)\\\">\\n          <ion-card-content>\\n            Se ti trovi sul luogo clicca sul pulsante sottostante per recuperare la posizione!\\n          </ion-card-content>\\n          <ion-item>\\n            <ion-label>Recupera posizione</ion-label>\\n            <ion-toggle (ionChange)=\\\"getPosition()\\\"></ion-toggle>\\n          </ion-item>\\n      </ion-card>\\n\\n\\n\\n      <ion-item> <!--!Citta-->\\n        <ion-label position=\\\"floating\\\">Città</ion-label>\\n        <ion-input formControlName=\\\"citta\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.citta\\\">\\n        <ng-container *ngIf=\\\"citta.hasError(error.type) && (citta.dirty || citta.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n\\n      <ion-item> <!--!Via-->\\n        <ion-label position=\\\"floating\\\">Via</ion-label>\\n        <ion-input formControlName=\\\"via\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.via\\\">\\n        <ng-container *ngIf=\\\"via.hasError(error.type) && (via.dirty || via.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n\\n      <ion-button [disabled]=\\\"!segnalaBisogniForm.valid\\\" type=\\\"submit\\\" expand=\\\"block\\\">\\n        Segnala Bisogni\\n      </ion-button>\\n      <p class=\\\"error-message\\\">{{this.errore}}</p>\\n    </ion-list>\\n  </form>\\n</ion-content>\\n\";","import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\nimport { PluginService } from 'src/app/services/plugin.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n\n@Component({\n  selector: 'app-segnala-bisogni',\n  templateUrl: './segnala-bisogni.page.html',\n  styleUrls: ['./segnala-bisogni.page.scss'],\n})\nexport class SegnalaBisogniPage {\n\n  imgSrc: any;\n  imgSend: any;\n  position: any;\n  errore: string = \"\";\n\n//#region Getter\n  get nome(){\n    return this.segnalaBisogniForm.get(\"nome\")\n  }\n\n  get descrizione(){\n    return this.segnalaBisogniForm.get(\"descrizione\")\n  }\n\n  get citta(){\n    return this.segnalaBisogniForm.get(\"citta\")\n  }\n\n  get via(){\n    return this.segnalaBisogniForm.get(\"via\")\n  }\n//#endregion\n  varLength={\n    nome :          { min: 5, max: 50},\n    descrizione :   { min: 5, max: 500},\n    citta :         { min: 5, max: 50},\n    via :           { min: 5, max: 100},\n  }\n\n  defaultMessages={\n    required:\"Questo campo è obbligatorio\",\n    spaces: \"Non sono ammessi spazi\",\n    maxlength: (max) =>{\n      return `Massimo ${ max } caratteri`\n    },\n    minlength: (min) =>{\n      return `Minimo ${ min } caratteri`\n    }\n  }\n\n  public errorMessages = {\n    nome: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.nome.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.nome.min) }\n    ],\n    descrizione: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.descrizione.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.descrizione.min) }\n\n    ],\n    citta: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.citta.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.citta.min) }\n    ],\n    via: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.via.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.via.min) }\n    ],\n\n\n  }\n\n  segnalaBisogniForm = this.formBuilder.group({\n    nome: ['', [Validators.required, Validators.maxLength(this.varLength.nome.max), Validators.minLength(this.varLength.nome.min) ]],\n    descrizione: ['', [Validators.required, Validators.maxLength(this.varLength.descrizione.max), Validators.minLength(this.varLength.descrizione.min)]],\n    citta: ['', [Validators.required, Validators.maxLength(this.varLength.citta.max), Validators.minLength(this.varLength.citta.min)]],\n    via: ['', [Validators.required,Validators.maxLength(this.varLength.via.max), Validators.minLength(this.varLength.via.min)]]\n  })\n  \n  \n  constructor(\n    private formBuilder : FormBuilder,\n    private navCtrl : NavController,\n    private plugin : PluginService,\n    private request : RequestService,\n    private utilities : UtilitiesService\n    ) { \n      this.imgSrc= this.utilities.img\n  }\n\n\n  public submit(){\n\n    if (this.imgSend == null){\n      this.errore=\"Inserisci un allegato\"\n      return \n    }\n    //! Test su allegati e posizione.\n    this.position = this.position ?? false\n\n    let data = {\n      \"nome\" : this.segnalaBisogniForm.value.nome,\n      \"descrizione\" : this.segnalaBisogniForm.value.descrizione,\n      \"citta\" : this.segnalaBisogniForm.value.citta,\n      \"indirizzo\" : this.segnalaBisogniForm.value.via,\n      \"allegati\": this.imgSend,\n      \"posizione\": this.position\n    }\n    \n    this.request.post({\n      path: \"/needs\",\n      data: data,\n      handler: (result) => {\n        this.utilities.simplyAlert({\n          operation:() => {\n            this.navCtrl.navigateForward(\"/home\");\n          },\n          header:\"Operazione effettuata\",\n          message:\"Grazie per aver contribuito con la tua segnalazione!\"\n        })\n      },\n      error: (err) => {\n        this.utilities.alertError({})      }\n    })\n\n  }\n\n  getPosition(){\n    if (this.position==undefined){\n      this.plugin.getCurrentPosition(\n        (position)=>{\n          this.position = { \n            \"latitude\": position.coords.latitude,\n            \"longitude\": position.coords.longitude,\n          }\n        }\n      )\n    }else{\n      this.position=undefined\n    }\n  }\n\n  chooseImage($event=null){\n    this.plugin.chooseIm(\n      $event,\n      (img)=>{\n        this.imgSrc =  'data:image/jpeg;base64,' + img;\n        this.imgSend = img;\n      }\n    )\n  }\n\n}\n"]}