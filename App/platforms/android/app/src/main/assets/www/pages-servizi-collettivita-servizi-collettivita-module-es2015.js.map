{"version":3,"sources":["./src/app/pages/servizi-collettivita/servizi-collettivita.page.ts","./src/app/pages/servizi-collettivita/servizi-collettivita.page.html","./src/app/pages/servizi-collettivita/servizi-collettivita-routing.module.ts","./src/app/pages/servizi-collettivita/servizi-collettivita.page.scss","./src/app/pages/servizi-collettivita/servizi-collettivita.module.ts"],"names":[],"mappings":"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","file":"pages-servizi-collettivita-servizi-collettivita-module-es2015.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { ActivatedRoute, } from '@angular/router';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { PluginService } from 'src/app/services/plugin.service';\nimport { AbstractControl, FormBuilder, Validators } from '@angular/forms'\n\n@Component({\n  selector: 'app-servizi-collettivita',\n  templateUrl: './servizi-collettivita.page.html',\n  styleUrls: ['./servizi-collettivita.page.scss'],\n})\n\n\nexport class ServiziCollettivitaPage{\n\n\n  get ets(){\n    return this.ServizioCollettivitaForm.get(\"ets\")\n  }\n\n  get bisogno(){\n    return this.ServizioCollettivitaForm.get(\"bisogno\")\n  }\n\n  get bisognoSegnalato(){\n    return this.ServizioCollettivitaForm.get(\"bisognoSegnalato\")\n  }\n\n  get description(){\n    return this.ServizioCollettivitaForm.get(\"description\")\n  }\n\n  get data(){\n    return this.ServizioCollettivitaForm.get(\"data\")\n  }\n\n\n  ServizioCollettivitaForm = this.formBuilder.group({\n    description: ['', [Validators.required, Validators.maxLength(500), Validators.minLength(5), this.utilities.validatorNotEmpty]],\n    data: ['', [Validators.required]],\n    ets: ['', [Validators.required]],\n    bisogno: [''],\n    bisognoSegnalato : [''],\n  })\n  \n  public errorMessages={\n    description: [\n      { type: \"required\",  message: \"Inserisci una descrizione\"},\n      { type: \"maxLength\",  message: \"Minimo 5 caratteri\"},\n      { type: \"minLength\",  message: \"Massimo 500 caratteri\"},\n      \n\n    ],\n    data: [\n      { type: \"required\",  message: \"Inserisci la data di esecuzione del servizio\"},\n    ],\n    ets: [\n      { type: \"required\",  message: \"Seleziona l'ets per la certificazione\"},\n    ],\n  }\n\n  imgSrc:any = this.utilities.img;\n  imgSend:any;\n\n  idBisognoEsterno: string;\n  enti : any;\n  bisogni : any;\n  errore:string;\n\n\n  constructor(private plugin: PluginService,private route : ActivatedRoute,private navCtrl : NavController, private request: RequestService, private utilities : UtilitiesService, private formBuilder: FormBuilder){\n    this.imgSrc= this.utilities.img\n    this.bisognoSegnalato.setValue(false)\n    let handler= () => {\n      this.navCtrl.navigateForward(\"/home\");\n    }\n\n    this.request.get({\n      path:\"/services/community/ets\",\n      handler:(resp) =>{\n        this.enti =resp[\"_msg\"]\n      },\n      error: () => {\n        this.utilities.alertError({handler:handler})\n      }\n    })\n\n    this.request.get({\n      path:\"/needs\",\n      httpParam:{\n        _all:\"True\",\n        _page:\"\",\n        _psize:\"\"\n      },\n      handler:(resp) =>{\n        this.bisogni = resp[\"_msg\"]\n        this.idBisognoEsterno= JSON.parse(this.route.snapshot.paramMap.get(\"bisogno\"))\n        if (this.idBisognoEsterno!=null){\n          this.bisognoSegnalato.setValue(true)\n        }\n      },\n      error: () => {\n        this.utilities.alertError({handler:handler})\n      }\n    })\n\n  }\n\n  public submit(){\n    if (this.ServizioCollettivitaForm.value.bisognoSegnalato && this.ServizioCollettivitaForm.value.bisogno==\"\"){\n      this.errore=\"Inserisci il bisogno che hai soddisfatto\"\n      return;\n    }\n    if (this.imgSend == null){\n      this.errore=\"Inserisci un allegato\"\n      return \n    }\n    let data = {\n      \"msg\": this.ServizioCollettivitaForm.value.description,\n      \"date\": this.ServizioCollettivitaForm.value.data,\n      \"bisognoSegnalato\": this.ServizioCollettivitaForm.value.bisognoSegnalato,\n      \"idBisogno\" : this.ServizioCollettivitaForm.value.bisogno,\n      \"idEnte\": this.ServizioCollettivitaForm.value.ets,\n      \"foto\" : this.imgSend\n    }\n    let handler= () => {\n      this.navCtrl.navigateForward(\"/home\");\n    }\n\n    this.request.post({\n      path:\"/services/community\",\n      data: data,\n      handler: () => {\n        this.utilities.simplyAlert({\n          header:\"Operazione effettuata\",\n          message: \"Grazie per il tuo contributo!\",\n          operation:handler\n        })\n      },\n      error : ()=>{\n        this.utilities.alertError({\n          handler:handler\n        })\n      }\n    })\n  }\n\n  chooseImage($event=null){\n    this.plugin.chooseIm(\n      $event,\n      (img)=>{\n        this.imgSrc =  'data:image/jpeg;base64,' + img;\n        this.imgSend = img;\n      }\n    )\n  }\n\n  \n\n\n  \n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Comunit√†</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <div class=\\\"ion-text-center\\\">\\n          Benvenuto!\\n        </div>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      Qui potrai inserire eventuali servizi offerti alla comunita'. Compilare tutti i campi per mandare la richiesta, una volta verificata verranno caricati dei token sul tuo account.\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n  <ion-content id=\\\"myContent\\\" class=\\\"ion-padding ion-text-center\\\">\\n    <form [formGroup]=\\\"ServizioCollettivitaForm\\\" (ngSubmit)=\\\"submit()\\\">\\n      <ion-list>\\n\\n        <ion-img src=\\\"{{ imgSrc }}\\\"></ion-img>\\n        <ion-button *ngIf=\\\"mobile\\\"  id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"chooseImage()\\\">Inserisci foto</ion-button>\\n        <ion-button *ngIf=\\\"!mobile\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"f.click()\\\">Inserisci foto</ion-button>\\n        <input  class=\\\"ion-hide\\\" #f type=\\\"file\\\" (change)=\\\"chooseImage($event)\\\" id=\\\"file-input\\\" accept=\\\"image/png, image/jpeg\\\">\\n\\n        <ion-item> \\n          <ion-label position=\\\"floating\\\">Descrivi il tuo servizio</ion-label>\\n          <ion-input formControlName=\\\"description\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.description\\\">\\n          <ng-container *ngIf=\\\"description.hasError(error.type) && (description.dirty || description.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item> <!--!data-->\\n          <ion-label>Data del servizio offerto</ion-label>\\n          <ion-input formControlName=\\\"data\\\" autocapitalize type=\\\"date\\\" inputmode=\\\"text\\\"></ion-input>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.data\\\">\\n          <ng-container *ngIf=\\\"data.hasError(error.type) && (data.dirty || data.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item> \\n          <ion-label position=\\\"floating\\\">ETS Certificatore</ion-label>\\n          <ion-select formControlName=\\\"ets\\\" cancelText=\\\"Esci\\\" okText=\\\"Scegli\\\">\\n            <ion-select-option  *ngFor=\\\"let i of enti\\\" value={{i.id}}>{{i.nome}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n        <div *ngFor=\\\"let error of errorMessages.ets\\\">\\n          <ng-container *ngIf=\\\"ets.hasError(error.type) && (ets.dirty || ets.touched)\\\">\\n            <small class=\\\"error-message\\\">{{error.message}}</small>\\n          </ng-container>\\n        </div>\\n\\n        <ion-item>\\n          <ion-label>E' un bisogno segnalato</ion-label>\\n          <ion-toggle formControlName=\\\"bisognoSegnalato\\\"></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Bisogni</ion-label>\\n          <ion-select formControlName=\\\"bisogno\\\" value=\\\"{{idBisognoEsterno}}\\\" [disabled]=\\\"!bisognoSegnalato.value\\\" cancelText=\\\"Esci\\\" okText=\\\"Scegli\\\">\\n            <ion-select-option *ngFor=\\\"let i of bisogni\\\" value={{i?.id}}>{{i?.nome}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <p class=\\\"error-message\\\">{{this.errore}}</p>\\n        <ion-button [disabled]=\\\"!ServizioCollettivitaForm.valid\\\" type=\\\"submit\\\" expand=\\\"block\\\">\\n          Invia\\n        </ion-button>\\n    </ion-list>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ServiziCollettivitaPage } from './servizi-collettivita.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ServiziCollettivitaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServiziCollettivitaPageRoutingModule {}\n","export default \"ion-img {\\n  height: 30vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlcnZpemktY29sbGV0dGl2aXRhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFDSiIsImZpbGUiOiJzZXJ2aXppLWNvbGxldHRpdml0YS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taW1ne1xuICAgIGhlaWdodDogMzB2aDtcbiAgICB3aWR0aDogYXV0bztcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgXG59XG4iXX0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ServiziCollettivitaPageRoutingModule } from './servizi-collettivita-routing.module';\n\nimport { ServiziCollettivitaPage } from './servizi-collettivita.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ServiziCollettivitaPageRoutingModule\n  ],\n  declarations: [ServiziCollettivitaPage]\n})\nexport class ServiziCollettivitaPageModule {}\n"],"sourceRoot":"webpack:///"}