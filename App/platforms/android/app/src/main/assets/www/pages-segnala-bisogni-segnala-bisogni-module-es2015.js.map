{"version":3,"sources":["./src/app/pages/segnala-bisogni/segnala-bisogni.module.ts","./src/app/pages/segnala-bisogni/segnala-bisogni.page.scss","./src/app/pages/segnala-bisogni/segnala-bisogni-routing.module.ts","./src/app/pages/segnala-bisogni/segnala-bisogni.page.html","./src/app/pages/segnala-bisogni/segnala-bisogni.page.ts"],"names":[],"mappings":"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","file":"pages-segnala-bisogni-segnala-bisogni-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SegnalaBisogniPageRoutingModule } from './segnala-bisogni-routing.module';\n\nimport { SegnalaBisogniPage } from './segnala-bisogni.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SegnalaBisogniPageRoutingModule\n  ],\n  declarations: [SegnalaBisogniPage]\n})\nexport class SegnalaBisogniPageModule {}\n","export default \".error-message {\\n  text-align: center;\\n  color: var(--ion-color-danger);\\n  padding-left: 20px;\\n}\\n\\nion-img {\\n  height: 30vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlZ25hbGEtYmlzb2duaS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFDSiIsImZpbGUiOiJzZWduYWxhLWJpc29nbmkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yLW1lc3NhZ2V7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG59XG5cbmlvbi1pbWd7XG4gICAgaGVpZ2h0OiAzMHZoO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SegnalaBisogniPage } from './segnala-bisogni.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SegnalaBisogniPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SegnalaBisogniPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text>Segnala Bisogni</ion-text>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\">\\n    <ion-card-header>\\n      <ion-card-subtitle>\\n        <div class=\\\"ion-text-center\\\">\\n          Benvenuto!\\n        </div>\\n      </ion-card-subtitle>\\n      <ion-card-content>\\n        In questa pagina potrai segnalare eventuali bisogni, una volta accettati verranno resi disponibili a tutti e chi vorrà potrà occuparsene!\\n      </ion-card-content>\\n    </ion-card-header>\\n  </ion-card>\\n  <form [formGroup]=\\\"segnalaBisogniForm\\\" (ngSubmit)=\\\"submit()\\\">\\n    <ion-list>\\n    \\n      <ion-img src=\\\"{{ imgSrc }}\\\"></ion-img>\\n      <ion-button *ngIf=\\\"this.plugin.mobile()\\\"  id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"chooseImage()\\\">Inserisci foto</ion-button>\\n      <ion-button *ngIf=\\\"!this.plugin.mobile()\\\" id=\\\"myButtonYellow\\\" expand=\\\"full\\\" (click)=\\\"f.click()\\\">Inserisci foto</ion-button>\\n      <input  class=\\\"ion-hide\\\" #f type=\\\"file\\\" (change)=\\\"chooseImage($event)\\\" id=\\\"file-input\\\" accept=\\\"image/png, image/jpeg\\\">\\n      <ion-item> <!--!Nome-->\\n        <ion-label position=\\\"floating\\\">Nome</ion-label>\\n        <ion-input formControlName=\\\"nome\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.nome\\\">\\n        <ng-container *ngIf=\\\"nome.hasError(error.type) && (nome.dirty || nome.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n      <ion-item> <!--!Descrizione-->\\n        <ion-label position=\\\"floating\\\">Descrizione</ion-label>\\n        <ion-input formControlName=\\\"descrizione\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.descrizione\\\">\\n        <ng-container *ngIf=\\\"descrizione.hasError(error.type) && (descrizione.dirty || descrizione.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n      <ion-card *ngIf=\\\"this.plugin.mobile()\\\" style=\\\"background-color:rgb(29, 39, 61)\\\">\\n          <ion-card-content>\\n            Se ti trovi sul luogo clicca sul pulsante sottostante per recuperare la posizione!\\n          </ion-card-content>\\n          <ion-item>\\n            <ion-label>Recupera posizione</ion-label>\\n            <ion-toggle (ionChange)=\\\"getPosition()\\\"></ion-toggle>\\n          </ion-item>\\n      </ion-card>\\n\\n\\n\\n      <ion-item> <!--!Citta-->\\n        <ion-label position=\\\"floating\\\">Città</ion-label>\\n        <ion-input formControlName=\\\"citta\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.citta\\\">\\n        <ng-container *ngIf=\\\"citta.hasError(error.type) && (citta.dirty || citta.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n\\n      <ion-item> <!--!Via-->\\n        <ion-label position=\\\"floating\\\">Via</ion-label>\\n        <ion-input formControlName=\\\"via\\\" autocapitalize inputmode=\\\"text\\\"></ion-input>\\n      </ion-item>\\n      <div *ngFor=\\\"let error of errorMessages.via\\\">\\n        <ng-container *ngIf=\\\"via.hasError(error.type) && (via.dirty || via.touched)\\\">\\n          <small class=\\\"error-message\\\">{{error.message}}</small>\\n        </ng-container>\\n      </div>\\n\\n\\n      <ion-button [disabled]=\\\"!segnalaBisogniForm.valid\\\" type=\\\"submit\\\" expand=\\\"block\\\">\\n        Segnala Bisogni\\n      </ion-button>\\n      <p class=\\\"error-message\\\">{{this.errore}}</p>\\n    </ion-list>\\n  </form>\\n</ion-content>\\n\";","import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\nimport { PluginService } from 'src/app/services/plugin.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n\n@Component({\n  selector: 'app-segnala-bisogni',\n  templateUrl: './segnala-bisogni.page.html',\n  styleUrls: ['./segnala-bisogni.page.scss'],\n})\nexport class SegnalaBisogniPage {\n\n  imgSrc: any;\n  imgSend: any;\n  position: any;\n  errore: string = \"\";\n\n//#region Getter\n  get nome(){\n    return this.segnalaBisogniForm.get(\"nome\")\n  }\n\n  get descrizione(){\n    return this.segnalaBisogniForm.get(\"descrizione\")\n  }\n\n  get citta(){\n    return this.segnalaBisogniForm.get(\"citta\")\n  }\n\n  get via(){\n    return this.segnalaBisogniForm.get(\"via\")\n  }\n//#endregion\n  varLength={\n    nome :          { min: 5, max: 50},\n    descrizione :   { min: 5, max: 500},\n    citta :         { min: 5, max: 50},\n    via :           { min: 5, max: 100},\n  }\n\n  defaultMessages={\n    required:\"Questo campo è obbligatorio\",\n    spaces: \"Non sono ammessi spazi\",\n    maxlength: (max) =>{\n      return `Massimo ${ max } caratteri`\n    },\n    minlength: (min) =>{\n      return `Minimo ${ min } caratteri`\n    }\n  }\n\n  public errorMessages = {\n    nome: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.nome.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.nome.min) }\n    ],\n    descrizione: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.descrizione.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.descrizione.min) }\n\n    ],\n    citta: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.citta.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.citta.min) }\n    ],\n    via: [\n      { type: \"required\", message:  this.defaultMessages.required },\n      { type: \"maxlength\", message: this.defaultMessages.maxlength(this.varLength.via.max) },\n      { type: \"minlength\", message: this.defaultMessages.minlength(this.varLength.via.min) }\n    ],\n\n\n  }\n\n  segnalaBisogniForm = this.formBuilder.group({\n    nome: ['', [Validators.required, Validators.maxLength(this.varLength.nome.max), Validators.minLength(this.varLength.nome.min) ]],\n    descrizione: ['', [Validators.required, Validators.maxLength(this.varLength.descrizione.max), Validators.minLength(this.varLength.descrizione.min)]],\n    citta: ['', [Validators.required, Validators.maxLength(this.varLength.citta.max), Validators.minLength(this.varLength.citta.min)]],\n    via: ['', [Validators.required,Validators.maxLength(this.varLength.via.max), Validators.minLength(this.varLength.via.min)]]\n  })\n  \n  \n  constructor(\n    private formBuilder : FormBuilder,\n    private navCtrl : NavController,\n    private plugin : PluginService,\n    private request : RequestService,\n    private utilities : UtilitiesService\n    ) { \n      this.imgSrc= this.utilities.img\n  }\n\n\n  public submit(){\n\n    if (this.imgSend == null){\n      this.errore=\"Inserisci un allegato\"\n      return \n    }\n    //! Test su allegati e posizione.\n    this.position = this.position ?? false\n\n    let data = {\n      \"nome\" : this.segnalaBisogniForm.value.nome,\n      \"descrizione\" : this.segnalaBisogniForm.value.descrizione,\n      \"citta\" : this.segnalaBisogniForm.value.citta,\n      \"indirizzo\" : this.segnalaBisogniForm.value.via,\n      \"allegati\": this.imgSend,\n      \"posizione\": this.position\n    }\n    \n    this.request.post({\n      path: \"/needs\",\n      data: data,\n      handler: (result) => {\n        this.utilities.simplyAlert({\n          operation:() => {\n            this.navCtrl.navigateForward(\"/home\");\n          },\n          header:\"Operazione effettuata\",\n          message:\"Grazie per aver contribuito con la tua segnalazione!\"\n        })\n      },\n      error: (err) => {\n        this.utilities.alertError({})      }\n    })\n\n  }\n\n  getPosition(){\n    if (this.position==undefined){\n      this.plugin.getCurrentPosition(\n        (position)=>{\n          this.position = { \n            \"latitude\": position.coords.latitude,\n            \"longitude\": position.coords.longitude,\n          }\n        }\n      )\n    }else{\n      this.position=undefined\n    }\n  }\n\n  chooseImage($event=null){\n    this.plugin.chooseIm(\n      $event,\n      (img)=>{\n        this.imgSrc =  'data:image/jpeg;base64,' + img;\n        this.imgSend = img;\n      }\n    )\n  }\n\n}\n"],"sourceRoot":"webpack:///"}