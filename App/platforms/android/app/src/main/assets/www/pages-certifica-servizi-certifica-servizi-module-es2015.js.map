{"version":3,"sources":["./src/app/pages/certifica-servizi/certifica-servizi-routing.module.ts","./src/app/pages/certifica-servizi/certifica-servizi.page.html","./src/app/pages/certifica-servizi/certifica-servizi.page.scss","./src/app/pages/certifica-servizi/certifica-servizi.page.ts","./src/app/pages/certifica-servizi/certifica-servizi.module.ts"],"names":[],"mappings":"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","file":"pages-certifica-servizi-certifica-servizi-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CertificaServiziPage } from './certifica-servizi.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CertificaServiziPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CertificaServiziPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n        <ion-text>Richieste</ion-text>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-card style=\\\"background-color:rgb(29, 39, 61)\\\" *ngIf=\\\"servizi?.length==0\\\">\\n      <ion-card-header>\\n        <ion-card-subtitle>\\n          <div class=\\\"ion-text-center\\\">\\n            Attenzione!\\n          </div>\\n        </ion-card-subtitle>\\n        <ion-card-content>\\n          Attualmente non sono presenti richieste di certificazione di servizi offerti alla comunità.\\n        </ion-card-content>\\n      </ion-card-header>\\n    </ion-card>\\n\\n    <ion-card *ngFor=\\\"let s of servizi\\\">\\n\\n\\n\\n      <div id=\\\"content\\\"  *ngIf=\\\"s.richiestaBisogno==1\\\">\\n        <ion-row>\\n          <ion-col col-6 class=\\\"ion-no-padding\\\">\\n            <ion-item>\\n              <ion-label style=\\\"text-align: center;\\\">Prima</ion-label>\\n            </ion-item>\\n            <ion-img src=\\\"{{ s.imgPrima }}\\\"></ion-img>\\n          </ion-col>\\n          <ion-col col-6 class=\\\"ion-no-padding\\\">\\n            <ion-item>\\n              <ion-label style=\\\"text-align: center;\\\">Dopo</ion-label>\\n            </ion-item>\\n            <ion-img src=\\\"{{ s.img }}\\\"></ion-img>\\n          </ion-col>\\n        </ion-row>\\n        <ion-card-header>\\n          <ion-card-subtitle>Servizio eseguito da {{s.nome}} {{s.cognome}} <br> in data {{s.data}} alle ore {{s.orario}}</ion-card-subtitle>\\n          <ion-card-title>Bisogno: {{s.nomeBisogno}}</ion-card-title>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <p>\\n            Descrizione bisogno: <br> {{s.descrizioneBisogno}}\\n          </p>\\n          <p>\\n            Messaggio del servizio: <br> {{s.messaggio}}\\n          </p>\\n        </ion-card-content>\\n      </div>\\n\\n      <div id=\\\"content\\\"  *ngIf=\\\"s.richiestaBisogno==0\\\">\\n        <ion-img src=\\\"{{ s.img }}\\\"></ion-img>\\n        <ion-card-header>\\n          <ion-card-subtitle>Servizio eseguito da {{s.nome}} {{s.cognome}} <br> in data {{s.data}} alle ore {{s.orario}}</ion-card-subtitle>\\n        </ion-card-header>\\n        <ion-card-content>\\n          {{s.messaggio}}\\n          \\n        </ion-card-content>\\n      </div>\\n\\n        <ion-item (click)=\\\"accept(s)\\\">\\n          <ion-icon name=\\\"checkmark\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>Certifica avvenuto servizio</ion-label>\\n        </ion-item>\\n\\n        <ion-item (click)=\\\"refuse(s)\\\">\\n          <ion-icon name=\\\"close\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-label>Rifiuta certificazione</ion-label>\\n        </ion-item>\\n    </ion-card>\\n\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadmore($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Caricamento...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </ion-list>\\n</ion-content>\\n\";","export default \"ion-img {\\n  height: 25vh;\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NlcnRpZmljYS1zZXJ2aXppLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFBSiIsImZpbGUiOiJjZXJ0aWZpY2Etc2Vydml6aS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbmlvbi1pbWd7XG4gICAgaGVpZ2h0OiAyNXZoO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBcbn0iXX0= */\";","import { Component } from '@angular/core';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UtilitiesService } from 'src/app/services/utilities.service';\n\n@Component({\n  selector: 'app-certifica-servizi',\n  templateUrl: './certifica-servizi.page.html',\n  styleUrls: ['./certifica-servizi.page.scss'],\n})\nexport class CertificaServiziPage {\n  \n  page:number = 0;\n  psize:number = 3;\n  servizi: any[] =[];\n\n  constructor(private request: RequestService, private utilities: UtilitiesService) { \n    this.getServizi()\n  }\n\n  getServizi(add=()=>{}){\n    this.request.get({\n      path:\"/services/community\",\n\n      httpParam:{\n        \"_page\": this.page,\n        \"_psize\": this.psize\n      },\n\n      handler:(result) => {\n\n        result[\"_msg\"].forEach(element => {\n          element[\"img\"]='data:image/jpeg;base64,'+element[\"img\"]\n          element[\"imgPrima\"]='data:image/jpeg;base64,'+element[\"imgPrima\"]\n        });\n\n        for (const t of result[\"_msg\"]) {\n          this.servizi.push(t);\n        };\n        add()\n      },\n\n      error:(err)  => {\n        this.utilities.alertError({})\n      }\n    })\n  }\n\n  loadmore(event) {\n    this.page++\n    this.getServizi(event.target.complete())\n  }\n\n  accept(item){\n    this.utilities.confirmAlert({\n\n      header:\"Attenzione!\",\n      message:\"Vuoi certificare questo servizio offerto alla comunità?\",\n      handlerYes:()=>{\n        this.request.put({\n          path:\"/services/community/\"+item.id,\n\n          handler:()=>{\n            this.utilities.simplyAlert({\n              header: \"Operazione effettuata\",\n              message:\"Servizio certificato correttamente!\",\n              operation:()=>{\n                this.page=0;\n                this.getServizi()\n              },\n            })\n          },\n\n          error:()=>{\n            this.utilities.alertError({})\n          }\n        })\n      }\n    })\n\n  }\n\n  refuse(item){\n    this.utilities.confirmAlert({\n\n      header:\"Attenzione!\",\n      message:      \"Vuoi rifiutare di certificare questo servizio offerto alla comunità?\",\n      handlerYes:()=>{\n        this.request.delete({\n          path:\"/services/community/\"+item.id,\n\n          handler:()=>{\n            this.utilities.simplyAlert({\n              header: \"Attenzione\",\n              message:\"Il servizio è stato rifiutato\",\n              operation:()=>{\n                this.page=0;\n                this.getServizi()\n              },\n            })\n          },\n\n          error:()=>{\n            this.utilities.alertError({})\n          }\n        })\n      }\n    })\n  \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CertificaServiziPageRoutingModule } from './certifica-servizi-routing.module';\n\nimport { CertificaServiziPage } from './certifica-servizi.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CertificaServiziPageRoutingModule\n  ],\n  declarations: [CertificaServiziPage]\n})\nexport class CertificaServiziPageModule {}\n"],"sourceRoot":"webpack:///"}